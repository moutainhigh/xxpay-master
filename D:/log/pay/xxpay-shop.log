2018-11-20 00:38:19.204  INFO 1412 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1412 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-20 00:38:19.208  INFO 1412 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-20 00:38:19.243  INFO 1412 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 20 00:38:19 CST 2018]; root of context hierarchy
2018-11-20 00:38:20.233  INFO 1412 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-20 00:38:20.241  INFO 1412 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-20 00:38:20.242  INFO 1412 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-20 00:38:20.301  INFO 1412 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-20 00:38:20.301  INFO 1412 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1060 ms
2018-11-20 00:38:20.410  INFO 1412 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-20 00:38:20.413  INFO 1412 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-20 00:38:20.414  INFO 1412 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-20 00:38:20.414  INFO 1412 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-20 00:38:20.414  INFO 1412 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-20 00:38:20.816  INFO 1412 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-20 00:38:21.286  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 20 00:38:19 CST 2018]; root of context hierarchy
2018-11-20 00:38:21.422  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-20 00:38:21.423  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-20 00:38:21.423  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-20 00:38:21.424  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-20 00:38:21.424  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-20 00:38:21.424  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 00:38:21.424  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 00:38:21.425  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 00:38:21.425  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 00:38:21.427  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-20 00:38:21.427  INFO 1412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-20 00:38:21.456  INFO 1412 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 00:38:21.456  INFO 1412 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 00:38:21.626  INFO 1412 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-20 00:38:21.817  INFO 1412 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-20 00:38:21.818  INFO 1412 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-20 00:38:21.823  INFO 1412 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-20 00:38:21.877  INFO 1412 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-20 00:38:21.881  INFO 1412 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 12.932 seconds (JVM running for 18.586)
2018-11-20 00:39:11.926  INFO 1412 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-20 00:39:11.926  INFO 1412 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-20 00:39:11.941  INFO 1412 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms
2018-11-20 00:40:51.193  INFO 1412 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 20 00:38:19 CST 2018]; root of context hierarchy
2018-11-20 00:40:51.195  INFO 1412 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-20 00:40:51.196  INFO 1412 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-20 00:40:51.203  INFO 1412 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-20 00:41:28.961  INFO 1430 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1430 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-20 00:41:28.965  INFO 1430 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-20 00:41:29.001  INFO 1430 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e44f2a5: startup date [Tue Nov 20 00:41:28 CST 2018]; root of context hierarchy
2018-11-20 00:41:30.002  INFO 1430 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-20 00:41:30.013  INFO 1430 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-20 00:41:30.014  INFO 1430 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-20 00:41:30.089  INFO 1430 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-20 00:41:30.089  INFO 1430 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1091 ms
2018-11-20 00:41:30.222  INFO 1430 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-20 00:41:30.227  INFO 1430 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-20 00:41:30.228  INFO 1430 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-20 00:41:30.229  INFO 1430 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-20 00:41:30.229  INFO 1430 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-20 00:41:30.677  INFO 1430 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-20 00:41:31.213  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e44f2a5: startup date [Tue Nov 20 00:41:28 CST 2018]; root of context hierarchy
2018-11-20 00:41:31.351  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-20 00:41:31.352  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-20 00:41:31.353  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-20 00:41:31.353  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-20 00:41:31.353  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 00:41:31.353  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 00:41:31.354  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 00:41:31.354  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 00:41:31.354  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-20 00:41:31.356  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-20 00:41:31.357  INFO 1430 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-20 00:41:31.387  INFO 1430 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 00:41:31.388  INFO 1430 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 00:41:31.565  INFO 1430 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-20 00:41:31.777  INFO 1430 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-20 00:41:31.778  INFO 1430 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-20 00:41:31.784  INFO 1430 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-20 00:41:31.838  INFO 1430 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-20 00:41:31.843  INFO 1430 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.117 seconds (JVM running for 18.618)
2018-11-20 00:41:44.856  INFO 1430 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-20 00:41:44.856  INFO 1430 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-20 00:41:44.870  INFO 1430 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 13 ms
2018-11-20 00:41:51.851  INFO 1430 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 00:41:51.852  INFO 1430 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 00:41:51.855  INFO 1430 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 00:41:51.899  INFO 1430 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 00:41:52.526  INFO 1430 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 00:41:52.541 ERROR 1430 --- [http-nio-8081-exec-5] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 00:41:52.545 ERROR 1430 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 00:43:35.181  INFO 1430 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 00:43:35.181  INFO 1430 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 00:43:35.181  INFO 1430 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 00:43:35.186  INFO 1430 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 00:43:35.425  INFO 1430 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 00:43:56.152  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 00:43:56.153  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 00:43:56.153  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 00:43:56.156  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 00:43:56.206  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 00:46:37.034  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 00:46:37.034  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 00:46:37.035  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 00:46:37.039  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 00:46:37.087  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 00:55:32.804  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 00:55:32.804  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 00:55:32.805  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 00:55:32.809  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 00:55:32.856  INFO 1430 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 00:56:58.474  INFO 1430 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 00:56:58.474  INFO 1430 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={}
2018-11-20 00:56:58.474  WARN 1430 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : Params error. mchId=null
2018-11-20 00:56:58.475  WARN 1430 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-20 00:56:58.475 ERROR 1430 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 00:58:24.520  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 00:58:24.520  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 00:58:24.520  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 00:58:24.525  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 00:58:24.571  INFO 1430 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:04:33.316  INFO 1430 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e44f2a5: startup date [Tue Nov 20 00:41:28 CST 2018]; root of context hierarchy
2018-11-20 01:04:33.318  INFO 1430 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-20 01:04:33.319  INFO 1430 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-20 01:04:33.323  INFO 1430 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-20 01:07:50.941  INFO 1526 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1526 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-20 01:07:50.945  INFO 1526 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-20 01:07:50.978  INFO 1526 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 20 01:07:50 CST 2018]; root of context hierarchy
2018-11-20 01:07:52.020  INFO 1526 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-20 01:07:52.029  INFO 1526 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-20 01:07:52.030  INFO 1526 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-20 01:07:52.101  INFO 1526 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-20 01:07:52.101  INFO 1526 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1125 ms
2018-11-20 01:07:52.214  INFO 1526 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-20 01:07:52.220  INFO 1526 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-20 01:07:52.221  INFO 1526 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-20 01:07:52.221  INFO 1526 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-20 01:07:52.221  INFO 1526 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-20 01:07:52.632  INFO 1526 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-20 01:07:53.116  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 20 01:07:50 CST 2018]; root of context hierarchy
2018-11-20 01:07:53.271  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-20 01:07:53.272  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-20 01:07:53.272  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-20 01:07:53.273  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-20 01:07:53.273  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 01:07:53.273  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 01:07:53.274  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 01:07:53.274  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 01:07:53.274  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-20 01:07:53.276  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-20 01:07:53.277  INFO 1526 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-20 01:07:53.308  INFO 1526 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 01:07:53.309  INFO 1526 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 01:07:53.479  INFO 1526 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-20 01:07:53.697  INFO 1526 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-20 01:07:53.698  INFO 1526 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-20 01:07:53.703  INFO 1526 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-20 01:07:53.756  INFO 1526 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-20 01:07:53.760  INFO 1526 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.109 seconds (JVM running for 18.639)
2018-11-20 01:07:59.493  INFO 1526 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-20 01:07:59.494  INFO 1526 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-20 01:07:59.508  INFO 1526 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-20 01:08:48.431  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:08:48.432  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:08:48.434  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:08:48.484  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:08:49.106  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:08:49.123 ERROR 1526 --- [http-nio-8081-exec-5] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:08:49.127 ERROR 1526 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:10:09.217  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:10:09.217  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:10:09.217  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:10:09.221  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:10:09.241  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:10:09.244 ERROR 1526 --- [http-nio-8081-exec-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:10:09.246 ERROR 1526 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:11:48.163  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:11:48.163  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:11:48.163  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:11:48.168  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:11:48.184  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:11:48.187 ERROR 1526 --- [http-nio-8081-exec-9] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:11:48.189 ERROR 1526 --- [http-nio-8081-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:12:18.285  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:12:18.285  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:12:18.285  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:12:18.289  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:12:33.525  INFO 1526 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:12:33.526  INFO 1526 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:12:33.526  INFO 1526 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:12:33.531  INFO 1526 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:12:48.553  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:12:48.553  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:12:48.553  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:12:48.556  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:12:53.426  INFO 1526 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:12:53.430 ERROR 1526 --- [http-nio-8081-exec-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:12:53.433 ERROR 1526 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:13:09.038  INFO 1526 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:13:09.043 ERROR 1526 --- [http-nio-8081-exec-3] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:13:09.045 ERROR 1526 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:13:09.695  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:13:09.697 ERROR 1526 --- [http-nio-8081-exec-5] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:13:09.698 ERROR 1526 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:15:25.827  INFO 1526 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:15:25.827  INFO 1526 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:15:25.827  INFO 1526 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:15:25.831  INFO 1526 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:15:26.085  INFO 1526 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:15:26.088 ERROR 1526 --- [http-nio-8081-exec-2] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:15:26.089 ERROR 1526 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:17:03.020  INFO 1526 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:17:03.021  INFO 1526 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:17:03.021  INFO 1526 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:17:03.025  INFO 1526 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:17:07.195  INFO 1526 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:19:11.838  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:19:11.838  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:19:11.838  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:19:11.842  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:19:11.895  INFO 1526 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:20:46.271  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:20:46.271  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:20:46.271  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:20:46.275  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:21:01.503  INFO 1526 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:21:01.503  INFO 1526 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:21:01.503  INFO 1526 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:21:01.507  INFO 1526 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:21:14.717  INFO 1526 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:21:14.732  INFO 1526 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:35:17.554  INFO 1526 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 20 01:07:50 CST 2018]; root of context hierarchy
2018-11-20 01:35:17.556  INFO 1526 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-20 01:35:17.556  INFO 1526 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-20 01:35:17.562  INFO 1526 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-20 01:37:17.492  INFO 1631 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1631 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-20 01:37:17.499  INFO 1631 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-20 01:37:17.532  INFO 1631 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 20 01:37:17 CST 2018]; root of context hierarchy
2018-11-20 01:37:18.549  INFO 1631 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-20 01:37:18.559  INFO 1631 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-20 01:37:18.560  INFO 1631 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-20 01:37:18.619  INFO 1631 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-20 01:37:18.620  INFO 1631 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1091 ms
2018-11-20 01:37:18.736  INFO 1631 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-20 01:37:18.740  INFO 1631 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-20 01:37:18.740  INFO 1631 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-20 01:37:18.741  INFO 1631 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-20 01:37:18.741  INFO 1631 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-20 01:37:19.176  INFO 1631 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-20 01:37:19.660  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 20 01:37:17 CST 2018]; root of context hierarchy
2018-11-20 01:37:19.817  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-20 01:37:19.818  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-20 01:37:19.818  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-20 01:37:19.818  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-20 01:37:19.818  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-20 01:37:19.819  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 01:37:19.819  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 01:37:19.819  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 01:37:19.819  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 01:37:19.821  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-20 01:37:19.822  INFO 1631 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-20 01:37:19.855  INFO 1631 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 01:37:19.856  INFO 1631 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 01:37:20.030  INFO 1631 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-20 01:37:20.254  INFO 1631 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-20 01:37:20.254  INFO 1631 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-20 01:37:20.261  INFO 1631 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-20 01:37:20.315  INFO 1631 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-20 01:37:20.319  INFO 1631 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.059 seconds (JVM running for 18.738)
2018-11-20 01:37:30.681  INFO 1631 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-20 01:37:30.681  INFO 1631 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-20 01:37:30.695  INFO 1631 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-20 01:37:36.181  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:37:36.182  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:37:36.184  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:37:36.229  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:37:36.496  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:37:36.511 ERROR 1631 --- [http-nio-8081-exec-3] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:37:36.516 ERROR 1631 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-20 01:38:53.898  INFO 1631 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:38:53.898  INFO 1631 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:38:53.898  INFO 1631 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:38:53.903  INFO 1631 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:38:58.720  INFO 1631 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:42:38.562  INFO 1631 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:42:38.562  INFO 1631 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:42:38.562  INFO 1631 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:42:38.567  INFO 1631 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:42:39.016  INFO 1631 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:42:51.015  INFO 1631 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 01:42:51.015  INFO 1631 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120014238000001, amount=1, mchId=10000000, mchOrderNo=G20181120014238000002, subject=XXPAY捐助商品G_0001, paySuccTime=1542649358994, sign=D1ED2954E8E7CA9977E4FB27099E4228, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 01:42:51.051  INFO 1631 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120014238000001,mchOrderNo=G20181120014238000002
2018-11-20 01:42:51.052 ERROR 1631 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 01:42:51.052  INFO 1631 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 01:45:59.881  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 01:45:59.881  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 01:45:59.881  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 01:45:59.887  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 01:45:59.937  INFO 1631 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 01:46:12.396  INFO 1631 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 01:46:12.396  INFO 1631 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120014559000002, amount=1000, mchId=10000000, mchOrderNo=G20181120014559000003, subject=XXPAY捐助商品G_0001, paySuccTime=1542649559930, sign=38CDB668D5C2AEFD2A4FA9D3064AD6C5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 01:46:12.403  INFO 1631 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120014559000002,mchOrderNo=G20181120014559000003
2018-11-20 01:46:12.404 ERROR 1631 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 01:46:12.404  INFO 1631 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 01:46:36.691  INFO 1631 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 20 01:37:17 CST 2018]; root of context hierarchy
2018-11-20 01:46:36.693  INFO 1631 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-20 01:46:36.694  INFO 1631 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-20 01:46:36.698  INFO 1631 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-20 22:57:40.754  INFO 896 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 896 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-20 22:57:40.759  INFO 896 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-20 22:57:40.792  INFO 896 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e44f2a5: startup date [Tue Nov 20 22:57:40 CST 2018]; root of context hierarchy
2018-11-20 22:57:41.811  INFO 896 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-20 22:57:41.820  INFO 896 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-20 22:57:41.821  INFO 896 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-20 22:57:41.884  INFO 896 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-20 22:57:41.884  INFO 896 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1094 ms
2018-11-20 22:57:41.997  INFO 896 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-20 22:57:42.000  INFO 896 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-20 22:57:42.001  INFO 896 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-20 22:57:42.001  INFO 896 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-20 22:57:42.001  INFO 896 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-20 22:57:42.449  INFO 896 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-20 22:57:42.956  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e44f2a5: startup date [Tue Nov 20 22:57:40 CST 2018]; root of context hierarchy
2018-11-20 22:57:43.094  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-20 22:57:43.095  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-20 22:57:43.096  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-20 22:57:43.096  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-20 22:57:43.096  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 22:57:43.096  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-20 22:57:43.097  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 22:57:43.097  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-20 22:57:43.097  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-20 22:57:43.099  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-20 22:57:43.099  INFO 896 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-20 22:57:43.128  INFO 896 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 22:57:43.129  INFO 896 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-20 22:57:43.338  INFO 896 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-20 22:57:43.551  INFO 896 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-20 22:57:43.552  INFO 896 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-20 22:57:43.557  INFO 896 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-20 22:57:43.611  INFO 896 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-20 22:57:43.615  INFO 896 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.121 seconds (JVM running for 18.64)
2018-11-20 22:58:22.341  INFO 896 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-20 22:58:22.341  INFO 896 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-20 22:58:22.357  INFO 896 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
2018-11-20 23:03:36.173  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:03:36.174  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:03:36.176  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:03:36.227  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:03:37.087  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:03:57.724  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:03:57.724  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230336000000, amount=1, mchId=10000000, mchOrderNo=G20181120230336000000, subject=XXPAY捐助商品G_0001, paySuccTime=1542726217021, sign=6A4AF68C45FD18071E994203F9CBA0F9, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:03:57.759  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230336000000,mchOrderNo=G20181120230336000000
2018-11-20 23:03:57.759 ERROR 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:03:57.759  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:04:23.255  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:04:23.255  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:04:23.256  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:04:23.259  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:04:23.309  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:04:31.058  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:04:31.058  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:04:31.058  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:04:31.062  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:04:31.107  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:04:49.668  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:04:49.668  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230431000002, amount=1000, mchId=10000000, mchOrderNo=G20181120230431000002, subject=XXPAY捐助商品G_0001, paySuccTime=1542726271100, sign=9AB52096A5F2045373A468B1CF44C214, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:04:49.676  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230431000002,mchOrderNo=G20181120230431000002
2018-11-20 23:04:49.676 ERROR 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:04:49.676  INFO 896 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:05:22.751  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:05:22.751  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:05:22.752  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:05:22.755  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:05:22.801  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:07:06.687  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:07:06.688  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:07:06.688  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:07:06.692  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:07:06.733  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:07:18.380  INFO 896 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:07:18.380  INFO 896 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230706000004, amount=1000, mchId=10000000, mchOrderNo=G20181120230706000004, subject=XXPAY捐助商品G_0001, paySuccTime=1542726426727, sign=3C30E9DAC68827EED91484D04ACA074B, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:07:18.387  INFO 896 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230706000004,mchOrderNo=G20181120230706000004
2018-11-20 23:07:18.387 ERROR 896 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:07:18.387  INFO 896 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:08:18.489  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:08:18.489  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:08:18.489  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:08:18.494  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:08:18.537  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:08:31.396  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:08:31.396  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230818000005, amount=10000, mchId=10000000, mchOrderNo=G20181120230818000005, subject=XXPAY捐助商品G_0001, paySuccTime=1542726498531, sign=EE3F593DE629612EC448EC24B778CA2E, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:08:31.405  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230818000005,mchOrderNo=G20181120230818000005
2018-11-20 23:08:31.405 ERROR 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:08:31.405  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:08:55.366  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:08:55.366  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:08:55.366  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:08:55.370  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:08:55.408  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:09:11.021  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:09:11.021  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230855000006, amount=100000, mchId=10000000, mchOrderNo=G20181120230855000006, subject=XXPAY捐助商品G_0001, paySuccTime=1542726535402, sign=E8EB74770E0DDAC5D4CC4A292CBDC653, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:09:11.028  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230855000006,mchOrderNo=G20181120230855000006
2018-11-20 23:09:11.028 ERROR 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:09:11.028  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:09:12.404  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:09:12.404  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:09:12.405  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:09:12.408  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:09:12.449  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:09:28.765  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:09:28.765  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:09:28.766  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:09:28.770  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:09:28.808  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:09:48.271  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:09:48.272  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:09:48.272  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:09:48.275  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:09:48.313  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:09:59.591  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:09:59.591  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230948000009, amount=100000, mchId=10000000, mchOrderNo=G20181120230948000009, subject=XXPAY捐助商品G_0001, paySuccTime=1542726588307, sign=5264EB50BCF5674459DAC9A71DE82204, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:09:59.597  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230948000009,mchOrderNo=G20181120230948000009
2018-11-20 23:09:59.597 ERROR 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:09:59.597  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:10:04.964  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:10:04.964  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:10:04.964  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:10:04.967  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:10:05.005  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:10:21.859  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:10:21.860  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:10:21.860  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:10:21.863  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:10:21.901  INFO 896 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:10:24.032  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:10:24.032  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230522000003, amount=1000, mchId=10000000, mchOrderNo=G20181120230522000003, subject=XXPAY捐助商品G_0001, paySuccTime=1542726322791, sign=78A8B675F7F4681C0779B221E758EF72, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:10:24.038  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230522000003,mchOrderNo=G20181120230522000003
2018-11-20 23:10:24.038 ERROR 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:10:24.038  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:10:31.099  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:10:31.099  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120231021000011, amount=100000, mchId=10000000, mchOrderNo=G20181120231021000011, subject=XXPAY捐助商品G_0001, paySuccTime=1542726621895, sign=4982F8585FD3FBC52AFDB06B143A60A7, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:10:31.108  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120231021000011,mchOrderNo=G20181120231021000011
2018-11-20 23:10:31.108 ERROR 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:10:31.108  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:10:37.613  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:10:37.613  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:10:37.614  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:10:37.616  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:10:37.655  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:10:54.218  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:10:54.218  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:10:54.218  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:10:54.221  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:10:54.258  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:10:54.271  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:10:54.271  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120231037000012, amount=100000, mchId=10000000, mchOrderNo=G20181120231037000012, subject=XXPAY捐助商品G_0001, paySuccTime=1542726637648, sign=3AD1C32FFBCF2210A5002A7951B71E84, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:10:54.277  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120231037000012,mchOrderNo=G20181120231037000012
2018-11-20 23:10:54.277 ERROR 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:10:54.277  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:11:04.993  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:11:04.993  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120231054000013, amount=100000, mchId=10000000, mchOrderNo=G20181120231054000013, subject=XXPAY捐助商品G_0001, paySuccTime=1542726654252, sign=43C0BB4E539715CAC69BBEA23882EB61, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:11:04.999  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120231054000013,mchOrderNo=G20181120231054000013
2018-11-20 23:11:04.999 ERROR 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:11:04.999  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:11:12.138  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:11:12.138  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:11:12.138  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:11:12.141  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:11:12.178  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:11:25.033  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:11:25.034  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120231112000014, amount=100000, mchId=10000000, mchOrderNo=G20181120231112000014, subject=XXPAY捐助商品G_0001, paySuccTime=1542726672172, sign=EB2083860EAEB87FD96BE43FB07B9524, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:11:25.039  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120231112000014,mchOrderNo=G20181120231112000014
2018-11-20 23:11:25.039 ERROR 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:11:25.039  INFO 896 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:12:50.655  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:12:50.656  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:12:50.656  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:12:50.659  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:12:50.702  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:13:53.837  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:13:53.837  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:13:53.837  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:13:53.841  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:13:53.878  INFO 896 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:15:04.509  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:15:04.509  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230928000008, amount=100000, mchId=10000000, mchOrderNo=G20181120230928000008, subject=XXPAY捐助商品G_0001, paySuccTime=1542726568802, sign=169526EC39A94FD96CAF9885E66D7211, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:15:04.514  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230928000008,mchOrderNo=G20181120230928000008
2018-11-20 23:15:04.514 ERROR 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:15:04.514  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:15:12.481  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:15:12.481  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120230912000007, amount=100000, mchId=10000000, mchOrderNo=G20181120230912000007, subject=XXPAY捐助商品G_0001, paySuccTime=1542726552443, sign=4BDF980265888797D56A60DBFE5454E5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:15:12.487  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120230912000007,mchOrderNo=G20181120230912000007
2018-11-20 23:15:12.487 ERROR 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:15:12.487  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:15:29.524  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:15:29.525  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120231004000010, amount=100000, mchId=10000000, mchOrderNo=G20181120231004000010, subject=XXPAY捐助商品G_0001, paySuccTime=1542726604998, sign=84D947F1D7B7E89E662312969A56C7BE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:15:29.531  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120231004000010,mchOrderNo=G20181120231004000010
2018-11-20 23:15:29.531 ERROR 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:15:29.531  INFO 896 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:16:37.591  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:16:37.591  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120231250000015, amount=100000, mchId=10000000, mchOrderNo=G20181120231250000015, subject=XXPAY捐助商品G_0001, paySuccTime=1542726770696, sign=3AEA25A10199DBB274ED7BE25F152952, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:16:37.597  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120231250000015,mchOrderNo=G20181120231250000015
2018-11-20 23:16:37.597 ERROR 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:16:37.597  INFO 896 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:22:38.334  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:22:38.335  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:22:38.335  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:22:38.338  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:22:38.374  INFO 896 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:22:53.330  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-20 23:22:53.330  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181120232238000017, amount=10000, mchId=10000000, mchOrderNo=G20181120232238000017, subject=XXPAY捐助商品G_0001, paySuccTime=1542727358369, sign=345B74845CE774C4EE9C91D1308E29F7, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-20 23:22:53.335  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181120232238000017,mchOrderNo=G20181120232238000017
2018-11-20 23:22:53.335 ERROR 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-20 23:22:53.335  INFO 896 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-20 23:46:00.482  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-20 23:46:00.483  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-20 23:46:00.483  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-20 23:46:00.487  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-20 23:46:00.524  INFO 896 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-20 23:51:10.502  INFO 896 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e44f2a5: startup date [Tue Nov 20 22:57:40 CST 2018]; root of context hierarchy
2018-11-20 23:51:10.505  INFO 896 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-20 23:51:10.505  INFO 896 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-20 23:51:10.509  INFO 896 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-21 00:16:11.120  INFO 1557 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1557 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-21 00:16:11.124  INFO 1557 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-21 00:16:11.160  INFO 1557 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Wed Nov 21 00:16:11 CST 2018]; root of context hierarchy
2018-11-21 00:16:12.240  INFO 1557 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-21 00:16:12.249  INFO 1557 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-21 00:16:12.250  INFO 1557 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-21 00:16:12.319  INFO 1557 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-21 00:16:12.320  INFO 1557 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1163 ms
2018-11-21 00:16:12.443  INFO 1557 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-21 00:16:12.449  INFO 1557 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-21 00:16:12.451  INFO 1557 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-21 00:16:12.452  INFO 1557 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-21 00:16:12.452  INFO 1557 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-21 00:16:12.862  INFO 1557 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-21 00:16:13.382  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Wed Nov 21 00:16:11 CST 2018]; root of context hierarchy
2018-11-21 00:16:13.537  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-21 00:16:13.537  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-21 00:16:13.538  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-21 00:16:13.538  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-21 00:16:13.538  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-21 00:16:13.538  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-21 00:16:13.539  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-21 00:16:13.539  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-21 00:16:13.539  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-21 00:16:13.539  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-21 00:16:13.542  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-21 00:16:13.542  INFO 1557 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-21 00:16:13.574  INFO 1557 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-21 00:16:13.574  INFO 1557 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-21 00:16:13.751  INFO 1557 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-21 00:16:13.974  INFO 1557 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-21 00:16:13.975  INFO 1557 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-21 00:16:13.979  INFO 1557 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-21 00:16:14.032  INFO 1557 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-21 00:16:14.036  INFO 1557 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.158 seconds (JVM running for 18.724)
2018-11-21 00:16:26.117  INFO 1557 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-21 00:16:26.117  INFO 1557 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-21 00:16:26.131  INFO 1557 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-21 00:16:35.708  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:16:35.709  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:16:35.711  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:16:35.756  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:16:36.537  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:16:49.944  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-21 00:16:49.945  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181121001636000000, amount=1000, mchId=10000000, mchOrderNo=G20181121001635000000, subject=XXPAY捐助商品G_0001, paySuccTime=1542730596367, sign=7C6AF977231E2E7181E9E7667A58AC89, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-21 00:16:49.982  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181121001636000000,mchOrderNo=G20181121001635000000
2018-11-21 00:16:49.982 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:16:49.983  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-21 00:18:48.792  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:18:51.355 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:20:15.041  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:20:16.947 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:21:33.279  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:36.412 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:21:48.069  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:49.696 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:21:52.466  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:54.303  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:54.330 ERROR 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:21:54.515  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:54.839  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:55.063  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:55.259  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:55.445  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:55.613  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:21:55.763 ERROR 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:21:57.337 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:21:58.937 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:00.574 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:02.419 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:03.852 ERROR 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:05.298 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:24.953  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:25.141  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:25.321  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:25.513  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:25.690  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:25.868  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:26.021  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:26.177  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:26.333  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:26.501  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:26.510 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:26.662  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:26.829  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:26.988  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:27.154  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:27.318  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:27.492  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:27.651  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:27.790  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:27.916 ERROR 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:27.950  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:28.094  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:28.248  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:28.415  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:28.576  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:28.733  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:29.202  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:29.350 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:29.366  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:29.508  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:29.804  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.058  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.199  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.355  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.516  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.667  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.823  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.952  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:30.987 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:31.085  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:31.224  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:31.341  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:31.517  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:31.618  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:31.774  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:31.936  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:32.079  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:32.191  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:22:32.625 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:33.908 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:35.390 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:36.823 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:38.156 ERROR 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:39.588 ERROR 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:40.919 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:42.659 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:43.992 ERROR 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:45.424 ERROR 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:46.867 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:48.292 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:49.856 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:51.671 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:53.092 ERROR 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:54.573 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:55.974 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:57.507 ERROR 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:22:58.877 ERROR 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:00.290 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:01.910 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:03.241 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:04.881 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:06.418 ERROR 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:08.362 ERROR 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:09.694 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:11.024 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:12.457 ERROR 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:14.199 ERROR 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:15.427 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:16.860 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:18.294 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:19.726 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:20.961 ERROR 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:22.409 ERROR 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:23.928 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:25.301 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:26.764 ERROR 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:28.044 ERROR 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:23:29.477 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:27:11.217  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:27:11.217  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:27:11.217  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:27:11.223  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:27:11.262  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:27:32.958  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:27:32.958  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:27:32.959  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:27:32.962  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:27:32.996  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:27:49.912  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:27:49.912  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:27:49.913  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:27:49.918  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:27:49.952  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:28:00.090  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-21 00:28:00.090  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181121002749000003, amount=10000, mchId=10000000, mchOrderNo=G20181121002749000003, subject=XXPAY捐助商品G_0001, paySuccTime=1542731269947, sign=8D9565B11E6A9FBB7EFA043E83AE2FE8, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-21 00:28:00.098  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181121002749000003,mchOrderNo=G20181121002749000003
2018-11-21 00:28:00.098 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:28:00.098  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-21 00:28:06.750  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:28:06.750  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:28:06.750  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:28:06.754  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:28:06.785  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:28:16.430  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-21 00:28:16.430  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181121002806000004, amount=10000, mchId=10000000, mchOrderNo=G20181121002806000004, subject=XXPAY捐助商品G_0001, paySuccTime=1542731286780, sign=420D694E730623620D5B4EEA6302283B, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-21 00:28:16.437  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181121002806000004,mchOrderNo=G20181121002806000004
2018-11-21 00:28:16.437 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:28:16.437  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-21 00:28:29.995  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:28:29.995  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:28:29.996  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:28:30.000  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:28:30.032  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:28:40.662  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-21 00:28:40.662  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181121002830000005, amount=10000, mchId=10000000, mchOrderNo=G20181121002829000005, subject=XXPAY捐助商品G_0001, paySuccTime=1542731310027, sign=12ACAC6C04116515D92CDBBD43C8E2B2, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-21 00:28:40.669  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181121002830000005,mchOrderNo=G20181121002829000005
2018-11-21 00:28:40.669 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:28:40.669  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-21 00:28:54.470  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:28:54.470  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:28:54.470  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:28:54.474  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:28:54.509  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:29:13.215  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:29:13.215  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:29:13.215  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:29:13.218  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:29:13.253  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:29:30.532  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-21 00:29:30.532  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181121002913000007, amount=10000, mchId=10000000, mchOrderNo=G20181121002913000007, subject=XXPAY捐助商品G_0001, paySuccTime=1542731353247, sign=9622F3B2B94C636DCDDA06F645036003, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-21 00:29:30.538  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181121002913000007,mchOrderNo=G20181121002913000007
2018-11-21 00:29:30.538 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:29:30.538  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-21 00:29:31.014  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-21 00:29:31.014  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=10000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-21 00:29:31.014  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-21 00:29:31.018  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-21 00:29:31.048  INFO 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-21 00:29:39.414  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-21 00:29:39.414  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181121002931000008, amount=10000, mchId=10000000, mchOrderNo=G20181121002931000008, subject=XXPAY捐助商品G_0001, paySuccTime=1542731371043, sign=16DC0B898FFB128D61D89E93FE4680D5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-21 00:29:39.421  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181121002931000008,mchOrderNo=G20181121002931000008
2018-11-21 00:29:39.421 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:29:39.421  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-21 00:34:16.054  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-21 00:34:16.054  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181121002854000006, amount=10000, mchId=10000000, mchOrderNo=G20181121002854000006, subject=XXPAY捐助商品G_0001, paySuccTime=1542731334504, sign=69B1B0BCF11B1339BA00D73F670BCE79, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-21 00:34:16.060  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181121002854000006,mchOrderNo=G20181121002854000006
2018-11-21 00:34:16.060 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:34:16.060  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-21 00:38:19.636  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:19.850  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:20.026  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:20.198  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:20.353  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:20.513  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:20.672  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:20.853  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:21.018  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:21.189  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:21.387  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:21.561  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:21.569 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:21.698  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:21.855  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:22.020  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:22.178  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:22.324  INFO 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:22.481  INFO 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:22.619  INFO 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:22.756  INFO 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:22.904  INFO 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:23.005 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:23.051  INFO 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:23.197  INFO 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:23.356  INFO 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:23.503  INFO 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收支付宝转账请求 ======
2018-11-21 00:38:24.753 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:26.076 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:27.482 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:28.850 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:30.383 ERROR 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:31.754 ERROR 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:33.046 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:34.479 ERROR 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:35.811 ERROR 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:37.245 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:38.678 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:40.158 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:41.507 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:42.979 ERROR 1557 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:44.413 ERROR 1557 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:45.688 ERROR 1557 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:47.177 ERROR 1557 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:48.508 ERROR 1557 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:49.839 ERROR 1557 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:51.272 ERROR 1557 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:52.605 ERROR 1557 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:54.140 ERROR 1557 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:38:55.574 ERROR 1557 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-21 00:40:36.246  INFO 1557 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Wed Nov 21 00:16:11 CST 2018]; root of context hierarchy
2018-11-21 00:40:36.248  INFO 1557 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-21 00:40:36.248  INFO 1557 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-21 00:40:36.253  INFO 1557 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 15:08:56.493  INFO 2459 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 2459 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 15:08:56.497  INFO 2459 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 15:08:56.544  INFO 2459 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 15:08:56 CST 2018]; root of context hierarchy
2018-11-24 15:08:57.732  INFO 2459 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 15:08:57.740  INFO 2459 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 15:08:57.741  INFO 2459 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 15:08:57.807  INFO 2459 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 15:08:57.807  INFO 2459 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1266 ms
2018-11-24 15:08:57.919  INFO 2459 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 15:08:57.923  INFO 2459 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 15:08:57.923  INFO 2459 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 15:08:57.923  INFO 2459 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 15:08:57.924  INFO 2459 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 15:08:58.341  INFO 2459 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 15:08:58.784  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 15:08:56 CST 2018]; root of context hierarchy
2018-11-24 15:08:58.907  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 15:08:58.907  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 15:08:58.908  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 15:08:58.908  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 15:08:58.908  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 15:08:58.909  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 15:08:58.909  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 15:08:58.909  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 15:08:58.909  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 15:08:58.909  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 15:08:58.911  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 15:08:58.912  INFO 2459 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 15:08:58.939  INFO 2459 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 15:08:58.939  INFO 2459 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 15:08:59.108  INFO 2459 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 15:08:59.311  INFO 2459 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 15:08:59.312  INFO 2459 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 15:08:59.318  INFO 2459 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 15:08:59.368  INFO 2459 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 15:08:59.372  INFO 2459 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.125 seconds (JVM running for 3.733)
2018-11-24 15:34:37.090  INFO 2459 --- [Thread-10] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 15:08:56 CST 2018]; root of context hierarchy
2018-11-24 15:34:37.092  INFO 2459 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 15:34:37.092  INFO 2459 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 15:34:37.097  INFO 2459 --- [Thread-10] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 16:01:32.713  INFO 12904 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 12904 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 16:01:32.717  INFO 12904 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 16:01:32.770  INFO 12904 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 16:01:32 CST 2018]; root of context hierarchy
2018-11-24 16:01:34.319  INFO 12904 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 16:01:34.351  INFO 12904 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 16:01:34.354  INFO 12904 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 16:01:34.482  INFO 12904 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 16:01:34.482  INFO 12904 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1715 ms
2018-11-24 16:01:34.617  INFO 12904 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 16:01:34.621  INFO 12904 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 16:01:34.622  INFO 12904 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 16:01:34.622  INFO 12904 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 16:01:34.622  INFO 12904 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 16:01:35.023  INFO 12904 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 16:01:35.473  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 16:01:32 CST 2018]; root of context hierarchy
2018-11-24 16:01:35.524  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 16:01:35.525  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 16:01:35.526  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 16:01:35.526  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 16:01:35.526  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 16:01:35.526  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 16:01:35.527  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 16:01:35.527  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 16:01:35.527  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 16:01:35.527  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 16:01:35.529  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 16:01:35.530  INFO 12904 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 16:01:35.558  INFO 12904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 16:01:35.558  INFO 12904 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 16:01:35.812  INFO 12904 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 16:01:36.012  INFO 12904 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 16:01:36.013  INFO 12904 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 16:01:36.017  INFO 12904 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 16:01:36.071  INFO 12904 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 16:01:36.075  INFO 12904 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.642 seconds (JVM running for 4.331)
2018-11-24 16:02:15.470  INFO 12904 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 16:02:15.470  INFO 12904 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 16:02:15.486  INFO 12904 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
2018-11-24 16:02:44.120  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 16:02:44.122  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.3(0x16070321) NetType/WIFI Language/zh_CN
2018-11-24 16:02:44.124  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 16:02:44.124  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=100000
2018-11-24 16:02:44.138  INFO 12904 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 16:02:44.140  INFO 12904 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D100000
2018-11-24 16:02:45.841  INFO 12904 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 16:02:45.843  INFO 12904 --- [http-nio-8081-exec-7] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=033yrlAU09iYyW1QW3zU0HAuAU0yrlAL&grant_type=authorization_code,outputStr=null
2018-11-24 16:02:46.563  INFO 12904 --- [http-nio-8081-exec-7] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_efptdOEt8OIrLbTXPaiCTUuBiLIVZm5S7sDLFAz6MBkvgfirvalxqrcxYg7RWv7ubr2TMn1aX2_EP5EWajTYUwddFBNqhOs1ayUNXXvYX5I","expires_in":7200,"refresh_token":"16_GQxY7qfEFmzXCs0d8rdt03xQp9flitDkO6GMVWYwTpSABl_L7PQ2w81rUnOURF4c10PmyUU3Lx46HXlPS-ARYcMRI8FscsIWut2dIcccQos","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 16:02:46.605  INFO 12904 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 16:02:46.709  INFO 12904 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 16:02:46.709  INFO 12904 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=100000,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.3(0x16070321) NetType/WIFI Language/zh_CN
2018-11-24 16:02:46.709  INFO 12904 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 16:02:46.710  INFO 12904 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 16:02:46.761  INFO 12904 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 16:02:47.234  INFO 12904 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 16:02:47.250 ERROR 12904 --- [http-nio-8081-exec-8] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 16:02:47.254 ERROR 12904 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 16:06:19.503  INFO 12904 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 16:06:20.810  INFO 12904 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.3(0x16070321) NetType/WIFI Language/zh_CN
2018-11-24 16:06:36.720  INFO 12904 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 16:07:00.959  INFO 12904 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 16:07:06.284  INFO 12904 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 16:07:06.285  INFO 12904 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 16:07:06.862  INFO 12904 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 16:07:06.863  INFO 12904 --- [http-nio-8081-exec-4] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=023hwxDS0BzAvY1vaMBS0M5oDS0hwxDH&grant_type=authorization_code,outputStr=null
2018-11-24 16:07:07.129  INFO 12904 --- [http-nio-8081-exec-4] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_yLYocz6n1ZXn13o1oGdk7Qaj8CWxIPNQHMkKKwKkD3C1wrp66N4RRlCJx8tODH1bxblR37V5ri_RAqnLfPlsGvn9H2oiSxgDUUi7mYJLIl0","expires_in":7200,"refresh_token":"16_pMntgz7CQbmHS0OItLTTEO_L5gyxF9VLzBPKSyA67IwijOS_dPRZS4ENxIopH3kV163pjwA7YMDschJ-664kxVNYXk6bEIwKvBGY5Sxg1qk","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 16:07:07.130  INFO 12904 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 16:07:12.604  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 16:07:12.605  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.3(0x16070321) NetType/WIFI Language/zh_CN
2018-11-24 16:07:12.605  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 16:07:12.605  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 16:07:12.609  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 16:07:46.497  INFO 12904 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 16:07:46.504 ERROR 12904 --- [http-nio-8081-exec-5] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 16:07:46.507 ERROR 12904 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 16:09:42.529  INFO 12904 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 16:09:42.530  INFO 12904 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-24 16:09:42.530  INFO 12904 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-24 16:09:42.535  INFO 12904 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 16:09:44.863  INFO 12904 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 16:10:59.049  INFO 12904 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 16:10:59.050  INFO 12904 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-24 16:10:59.050  INFO 12904 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-24 16:10:59.055  INFO 12904 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 16:10:59.105  INFO 12904 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 16:12:07.788  INFO 12904 --- [Thread-11] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 16:01:32 CST 2018]; root of context hierarchy
2018-11-24 16:12:07.790  INFO 12904 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 16:12:07.790  INFO 12904 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 16:12:07.794  INFO 12904 --- [Thread-11] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 16:14:44.355  INFO 15846 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 15846 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 16:14:44.364  INFO 15846 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 16:14:44.477  INFO 15846 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 16:14:44 CST 2018]; root of context hierarchy
2018-11-24 16:14:46.108  INFO 15846 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 16:14:46.116  INFO 15846 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 16:14:46.117  INFO 15846 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 16:14:46.182  INFO 15846 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 16:14:46.182  INFO 15846 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1713 ms
2018-11-24 16:14:46.314  INFO 15846 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 16:14:46.321  INFO 15846 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 16:14:46.322  INFO 15846 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 16:14:46.323  INFO 15846 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 16:14:46.323  INFO 15846 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 16:14:47.080  INFO 15846 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 16:14:47.709  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 16:14:44 CST 2018]; root of context hierarchy
2018-11-24 16:14:47.866  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 16:14:47.867  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 16:14:47.867  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 16:14:47.867  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 16:14:47.868  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 16:14:47.868  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 16:14:47.868  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 16:14:47.868  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 16:14:47.868  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 16:14:47.869  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 16:14:47.871  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 16:14:47.871  INFO 15846 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 16:14:47.901  INFO 15846 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 16:14:47.901  INFO 15846 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 16:14:48.127  INFO 15846 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 16:14:48.410  INFO 15846 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 16:14:48.411  INFO 15846 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 16:14:48.416  INFO 15846 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 16:14:48.472  INFO 15846 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 16:14:48.477  INFO 15846 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 4.595 seconds (JVM running for 5.302)
2018-11-24 16:17:58.455  INFO 15846 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 16:17:58.455  INFO 15846 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 16:17:58.470  INFO 15846 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms
2018-11-24 16:18:14.735  INFO 15846 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 16:18:14.736  INFO 15846 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-24 16:18:14.739  INFO 15846 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-24 16:18:14.800  INFO 15846 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 16:18:15.101  INFO 15846 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 16:25:42.575  INFO 15846 --- [Thread-13] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 16:14:44 CST 2018]; root of context hierarchy
2018-11-24 16:25:42.578  INFO 15846 --- [Thread-13] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 16:25:42.578  INFO 15846 --- [Thread-13] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 16:25:42.582  INFO 15846 --- [Thread-13] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 18:35:09.795  INFO 43213 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 43213 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 18:35:09.798  INFO 43213 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 18:35:09.856  INFO 43213 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 18:35:09 CST 2018]; root of context hierarchy
2018-11-24 18:35:11.133  INFO 43213 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 18:35:11.142  INFO 43213 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 18:35:11.142  INFO 43213 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 18:35:11.207  INFO 43213 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 18:35:11.207  INFO 43213 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1355 ms
2018-11-24 18:35:11.328  INFO 43213 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 18:35:11.332  INFO 43213 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 18:35:11.332  INFO 43213 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 18:35:11.332  INFO 43213 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 18:35:11.332  INFO 43213 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 18:35:11.786  INFO 43213 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 18:35:12.281  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 18:35:09 CST 2018]; root of context hierarchy
2018-11-24 18:35:12.336  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 18:35:12.336  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 18:35:12.337  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 18:35:12.337  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 18:35:12.337  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 18:35:12.337  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 18:35:12.338  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 18:35:12.338  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 18:35:12.338  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 18:35:12.338  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 18:35:12.340  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 18:35:12.341  INFO 43213 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 18:35:12.371  INFO 43213 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 18:35:12.371  INFO 43213 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 18:35:12.623  INFO 43213 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 18:35:12.851  INFO 43213 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 18:35:12.852  INFO 43213 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 18:35:12.859  INFO 43213 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 18:35:12.913  INFO 43213 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 18:35:12.917  INFO 43213 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.392 seconds (JVM running for 3.955)
2018-11-24 18:35:42.831  INFO 43213 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 18:35:42.831  INFO 43213 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 18:35:42.848  INFO 43213 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 17 ms
2018-11-24 18:35:54.918  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 18:35:54.919  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-24 18:35:54.921  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-24 18:35:54.965  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 18:35:55.682  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 18:38:01.574  INFO 43213 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 18:38:01.575  INFO 43213 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-24 18:38:01.575  INFO 43213 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-24 18:38:01.579  INFO 43213 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 18:38:02.021  INFO 43213 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 18:41:15.459  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 18:41:15.460  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124183801000001, amount=1, mchId=10000000, mchOrderNo=G20181124183801000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543055881997, sign=E927BEE79EC341E567616A1EA91F09DE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-24 18:41:15.504  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181124183801000001,mchOrderNo=G20181124183801000001
2018-11-24 18:41:15.505 ERROR 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 18:41:15.505  INFO 43213 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-24 18:42:24.716  INFO 43213 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 18:42:24.716  INFO 43213 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124183801000001, amount=1, mchId=10000000, mchOrderNo=G20181124183801000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543056004648, sign=D17A1BC27E520C1D2DC085C676E99A9A, channelOrderNo=2018112422001442150500681738, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-24 18:42:24.721 ERROR 43213 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 18:42:24.866  INFO 43213 --- [Thread-10] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 18:35:09 CST 2018]; root of context hierarchy
2018-11-24 18:42:24.868  INFO 43213 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 18:42:24.868  INFO 43213 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 18:42:24.873  INFO 43213 --- [Thread-10] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 19:51:24.140  INFO 43325 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 43325 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 19:51:24.145  INFO 43325 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 19:51:24.214  INFO 43325 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:51:24 CST 2018]; root of context hierarchy
2018-11-24 19:51:25.492  INFO 43325 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 19:51:25.501  INFO 43325 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 19:51:25.502  INFO 43325 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 19:51:25.571  INFO 43325 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 19:51:25.571  INFO 43325 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1362 ms
2018-11-24 19:51:25.690  INFO 43325 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 19:51:25.699  INFO 43325 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 19:51:25.699  INFO 43325 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 19:51:25.699  INFO 43325 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 19:51:25.700  INFO 43325 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 19:51:26.230  INFO 43325 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 19:51:26.832  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:51:24 CST 2018]; root of context hierarchy
2018-11-24 19:51:26.964  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 19:51:26.965  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 19:51:26.965  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 19:51:26.965  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 19:51:26.965  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 19:51:26.966  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 19:51:26.966  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 19:51:26.966  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 19:51:26.966  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 19:51:26.967  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 19:51:26.969  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 19:51:26.969  INFO 43325 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 19:51:27.000  INFO 43325 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 19:51:27.000  INFO 43325 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 19:51:27.209  INFO 43325 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 19:51:27.422  INFO 43325 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 19:51:27.424  INFO 43325 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 19:51:27.434  INFO 43325 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 19:51:27.502  INFO 43325 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 19:51:27.508  INFO 43325 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.69 seconds (JVM running for 4.236)
2018-11-24 19:51:36.815  INFO 43325 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 19:51:36.815  INFO 43325 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 19:51:36.829  INFO 43325 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-24 19:51:44.063  INFO 43325 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:51:44.064  INFO 43325 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:51:44.067  INFO 43325 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:51:44.067  INFO 43325 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 19:51:44.085  INFO 43325 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:51:44.087  INFO 43325 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 19:51:44.768  INFO 43325 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:51:44.769  INFO 43325 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=033ZXFq11HWNMY1PMtp112Guq11ZXFqy&grant_type=authorization_code,outputStr=null
2018-11-24 19:51:45.261  INFO 43325 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_8ErlUjXyg3LQV2xrl-wsmoo4Eq-_tzGzASLa80Cqc_Sy34NSpHnrM_vb-94EPbi7DtiWbnaRcoq7a4NzlPxitFUQKHHVUCEVk89kECeVtpE","expires_in":7200,"refresh_token":"16_6NlY-7eD3r4dKcYmWlOLOBJqyD9VC4K6FpzozkymwpiaQKME01hx5ocZwGqv7by8ggvnQmARMVNiJAO80BZRPl6aPBuApyA2iw6kCzemvJU","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 19:51:45.306  INFO 43325 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:51:45.384  INFO 43325 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:51:45.384  INFO 43325 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:51:45.384  INFO 43325 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:51:45.384  INFO 43325 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:51:45.432  INFO 43325 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 19:51:45.483  INFO 43325 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 19:51:45.500 ERROR 43325 --- [http-nio-8081-exec-6] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:51:45.505 ERROR 43325 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:52:47.856  INFO 43325 --- [Thread-11] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:51:24 CST 2018]; root of context hierarchy
2018-11-24 19:52:47.858  INFO 43325 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 19:52:47.858  INFO 43325 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 19:52:47.861  INFO 43325 --- [Thread-11] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 19:53:36.411  INFO 43331 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 43331 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 19:53:36.415  INFO 43331 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 19:53:36.467  INFO 43331 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:53:36 CST 2018]; root of context hierarchy
2018-11-24 19:53:37.551  INFO 43331 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 19:53:37.561  INFO 43331 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 19:53:37.563  INFO 43331 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 19:53:37.629  INFO 43331 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 19:53:37.629  INFO 43331 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1165 ms
2018-11-24 19:53:37.754  INFO 43331 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 19:53:37.760  INFO 43331 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 19:53:37.761  INFO 43331 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 19:53:37.761  INFO 43331 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 19:53:37.761  INFO 43331 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 19:53:38.218  INFO 43331 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 19:53:38.710  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:53:36 CST 2018]; root of context hierarchy
2018-11-24 19:53:38.860  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 19:53:38.862  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 19:53:38.863  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 19:53:38.863  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 19:53:38.863  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 19:53:38.863  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 19:53:38.864  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 19:53:38.864  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 19:53:38.864  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 19:53:38.864  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 19:53:38.867  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 19:53:38.867  INFO 43331 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 19:53:38.898  INFO 43331 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 19:53:38.899  INFO 43331 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 19:53:39.093  INFO 43331 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 19:53:39.312  INFO 43331 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 19:53:39.314  INFO 43331 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 19:53:39.320  INFO 43331 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 19:53:39.376  INFO 43331 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 19:53:39.380  INFO 43331 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.373 seconds (JVM running for 4.055)
2018-11-24 19:53:48.018  INFO 43331 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 19:53:48.019  INFO 43331 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 19:53:48.032  INFO 43331 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 13 ms
2018-11-24 19:53:50.826  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:54:19.599  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:54:40.607  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:54:42.301  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 19:54:42.367  INFO 43331 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:54:42.369  INFO 43331 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 19:54:42.945  INFO 43331 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:54:42.946  INFO 43331 --- [http-nio-8081-exec-3] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=033Mn76I0idB8i24Aw4I0HIj6I0Mn76u&grant_type=authorization_code,outputStr=null
2018-11-24 19:54:43.451  INFO 43331 --- [http-nio-8081-exec-3] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_vDudi9d8TPe0llW_236607wUrG7FUDhQN8-BZ9j4InlCMqAGllJaVTNFb_uxqxJsgUOh6AyhjmCYmEn9rn-6f8MokZRN3wIk8C8KWTmhBWA","expires_in":7200,"refresh_token":"16_i4hy_n6tfxBj0wnlf2Zv-f0yzELsMKiARzic_ox2Q5xwe5QqKYaWGMBd1ng6J4XZ88KJLQiGAr4gsZdnXFLXtPkPVDdA2eXD5wIz12tXdvg","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 19:54:43.495  INFO 43331 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:54:47.654  INFO 43331 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:54:47.655  INFO 43331 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:54:47.655  INFO 43331 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:54:47.655  INFO 43331 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:54:47.712  INFO 43331 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 19:54:47.755  INFO 43331 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 19:54:47.804 ERROR 43331 --- [http-nio-8081-exec-4] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:54:47.808 ERROR 43331 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:55:07.321  INFO 43331 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:55:07.321  INFO 43331 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:55:07.321  INFO 43331 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:55:07.321  INFO 43331 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 19:55:07.330  INFO 43331 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:55:07.331  INFO 43331 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 19:55:07.828  INFO 43331 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:55:07.828  INFO 43331 --- [http-nio-8081-exec-10] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=033IHqgX1VySRT0r5QfX1r8egX1IHqgy&grant_type=authorization_code,outputStr=null
2018-11-24 19:55:08.152  INFO 43331 --- [http-nio-8081-exec-10] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16__cqJ526biAUPgPFtBFHtV8ET6YtoESHSR5u7VIYWzD9wJRaetKWBKL74aegVblJRGYQCjClcP229ZMhFbzwfsW1AIAXKGIoBSl9PUQUwgZc","expires_in":7200,"refresh_token":"16_Z2FkHD4A0AvE6kc0bMvOG4eT2lAH5uPKgbA6hZ2I7Hk41ykc7cXOwwzTka0M1ElGYruj5klbd3bt9J7Y3gyVCW_Oq7y4wdK6J46FJQswPBk","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 19:55:08.152  INFO 43331 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:55:08.162  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:55:08.162  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:55:08.162  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:55:08.162  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:55:08.166  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 19:55:08.451  INFO 43331 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 19:55:08.475 ERROR 43331 --- [http-nio-8081-exec-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> result  [in template "qrPay.ftl" at line 73, column 11]

----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (result == "failed")  [in template "qrPay.ftl" at line 73, column 5]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:55:08.478 ERROR 43331 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> result  [in template "qrPay.ftl" at line 73, column 11]

----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (result == "failed")  [in template "qrPay.ftl" at line 73, column 5]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> result  [in template "qrPay.ftl" at line 73, column 11]

----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (result == "failed")  [in template "qrPay.ftl" at line 73, column 5]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:56:16.503  INFO 43331 --- [Thread-10] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:53:36 CST 2018]; root of context hierarchy
2018-11-24 19:56:16.504  INFO 43331 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 19:56:16.505  INFO 43331 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 19:56:16.508  INFO 43331 --- [Thread-10] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 19:56:52.632  INFO 43336 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 43336 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 19:56:52.636  INFO 43336 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 19:56:52.697  INFO 43336 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:56:52 CST 2018]; root of context hierarchy
2018-11-24 19:56:53.913  INFO 43336 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 19:56:53.923  INFO 43336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 19:56:53.925  INFO 43336 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 19:56:54.001  INFO 43336 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 19:56:54.001  INFO 43336 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1309 ms
2018-11-24 19:56:54.137  INFO 43336 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 19:56:54.142  INFO 43336 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 19:56:54.143  INFO 43336 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 19:56:54.143  INFO 43336 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 19:56:54.143  INFO 43336 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 19:56:54.585  INFO 43336 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 19:56:55.062  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:56:52 CST 2018]; root of context hierarchy
2018-11-24 19:56:55.118  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 19:56:55.119  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 19:56:55.119  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 19:56:55.120  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 19:56:55.120  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 19:56:55.120  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 19:56:55.120  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 19:56:55.120  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 19:56:55.121  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 19:56:55.121  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 19:56:55.123  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 19:56:55.123  INFO 43336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 19:56:55.156  INFO 43336 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 19:56:55.157  INFO 43336 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 19:56:55.410  INFO 43336 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 19:56:55.646  INFO 43336 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 19:56:55.647  INFO 43336 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 19:56:55.652  INFO 43336 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 19:56:55.706  INFO 43336 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 19:56:55.711  INFO 43336 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.455 seconds (JVM running for 4.083)
2018-11-24 19:57:02.406  INFO 43336 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 19:57:02.406  INFO 43336 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 19:57:02.420  INFO 43336 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-24 19:57:14.203  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:57:14.205  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:57:14.207  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:57:14.207  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 19:57:14.230  INFO 43336 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:57:14.232  INFO 43336 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 19:57:14.721  INFO 43336 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 19:57:14.722  INFO 43336 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=023Av3FP00EWva2wvsGP0MDjFP0Av3Fp&grant_type=authorization_code,outputStr=null
2018-11-24 19:57:15.195  INFO 43336 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_IBpl3Dbc-_2VoVaXPgqlHAv5ApVECkPYuXKgETV0ZZnB9lmbxBbp6L1Cj1yTr_OUit7AEYfTziH9w2DKHhgarvtklXaguTvIzoq2KdSsWRk","expires_in":7200,"refresh_token":"16_mQG1RHpE4UEhLnxGyW4UxioKMvNw5fU3hYqPnURFbXxhHt06ST1VhrlkUyGhj9thNIoDtFOmq_iyZle7rBUlEytXm1Q8OAf_lUDtyf6wpMI","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 19:57:15.238  INFO 43336 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:57:15.325  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:57:15.326  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:57:15.326  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:57:15.326  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 19:57:15.376  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 19:57:15.417  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 19:57:15.433 ERROR 43336 --- [http-nio-8081-exec-6] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:57:15.437 ERROR 43336 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 19:59:25.149  INFO 43336 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 19:59:25.150  INFO 43336 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 19:59:25.150  INFO 43336 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 19:59:40.598  INFO 43336 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 19:59:40.662  INFO 43336 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:00:13.266  INFO 43336 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 20:00:13.904  INFO 43336 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:00:18.348  INFO 43336 --- [http-nio-8081-exec-2] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=023SAA2c25Pp8O0TjZ3c2v2m2c2SAA2b&grant_type=authorization_code,outputStr=null
2018-11-24 20:00:18.640  INFO 43336 --- [http-nio-8081-exec-2] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_0xZyym-rA62AJ1PC2ehOU5z657m8xY-V-lWjYKDvbuEhkPCbIZOa8p-1gpPhe33fVoSTb9Jcx7rk_NMVMoXu5yaJaPXfd9WDQNEtqmNW9Ow","expires_in":7200,"refresh_token":"16_xRZS-e3iKZPyZyS8uDau6TW-4QV_TPBcP4DhZZV9avAbYWRP5Abr1xQVbz3GJshRaIwf-3FSsCeRSFFqyFwPorPYYTY6vEHRCCywDXwOqXQ","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 20:00:18.641  INFO 43336 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:00:18.770  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:00:18.770  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:00:18.770  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:00:29.355  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:00:49.190  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:01:00.656  INFO 43336 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:01:00.659 ERROR 43336 --- [http-nio-8081-exec-3] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:01:00.662 ERROR 43336 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:01:09.894  INFO 43336 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:01:09.894  INFO 43336 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:01:09.894  INFO 43336 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:01:13.472  INFO 43336 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 20:01:13.527  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:01:14.672  INFO 43336 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 20:01:15.251  INFO 43336 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:01:17.008  INFO 43336 --- [http-nio-8081-exec-7] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=033y6TPo0ESvJq1zh3Mo0PnOPo0y6TPz&grant_type=authorization_code,outputStr=null
2018-11-24 20:01:17.289  INFO 43336 --- [http-nio-8081-exec-7] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_ILlGhTH7Ht7jG2UJBjc1c00dgFYapq9GJBjHIH1DD2nETVEW1NCUeC-Xlib-ASPqIiihMft4J9KUeSqkbiqDc1kc-R0OBrnAVAtutB2NhLU","expires_in":7200,"refresh_token":"16_b7NtlQ2gkn3MkgfPso2s3GM37POqJi8nk9w7SJbmo_4tPf5Oxc0WKukUfFa8f2d6xoOlVgnzicWgVRRAlinw7l6B3id1nG-jRjvgUMKjges","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 20:01:17.290  INFO 43336 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:01:17.355  INFO 43336 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:01:17.355  INFO 43336 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:01:17.355  INFO 43336 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:01:18.648  INFO 43336 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:01:18.652  INFO 43336 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:01:40.417  INFO 43336 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:01:40.422 ERROR 43336 --- [http-nio-8081-exec-8] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:01:40.425 ERROR 43336 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:03:44.205  INFO 43336 --- [Thread-10] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 19:56:52 CST 2018]; root of context hierarchy
2018-11-24 20:03:44.207  INFO 43336 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 20:03:44.207  INFO 43336 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 20:03:44.210  INFO 43336 --- [Thread-10] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 20:03:49.284  INFO 43344 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 43344 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 20:03:49.287  INFO 43344 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 20:03:49.331  INFO 43344 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:03:49 CST 2018]; root of context hierarchy
2018-11-24 20:03:50.385  INFO 43344 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 20:03:50.394  INFO 43344 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 20:03:50.395  INFO 43344 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 20:03:50.460  INFO 43344 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 20:03:50.460  INFO 43344 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1132 ms
2018-11-24 20:03:50.585  INFO 43344 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 20:03:50.590  INFO 43344 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 20:03:50.590  INFO 43344 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 20:03:50.590  INFO 43344 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 20:03:50.591  INFO 43344 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 20:03:51.028  INFO 43344 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 20:03:51.477  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:03:49 CST 2018]; root of context hierarchy
2018-11-24 20:03:51.530  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 20:03:51.530  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 20:03:51.531  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 20:03:51.531  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 20:03:51.531  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 20:03:51.531  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 20:03:51.532  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 20:03:51.532  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 20:03:51.532  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 20:03:51.532  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 20:03:51.534  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 20:03:51.535  INFO 43344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 20:03:51.563  INFO 43344 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 20:03:51.563  INFO 43344 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 20:03:51.819  INFO 43344 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 20:03:52.029  INFO 43344 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 20:03:52.030  INFO 43344 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 20:03:52.036  INFO 43344 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 20:03:52.086  INFO 43344 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 20:03:52.090  INFO 43344 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.17 seconds (JVM running for 3.888)
2018-11-24 20:04:04.390  INFO 43344 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 20:04:04.391  INFO 43344 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 20:04:04.405  INFO 43344 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-24 20:04:10.970  INFO 43344 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:04:10.971  INFO 43344 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:04:10.973  INFO 43344 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:04:13.434  INFO 43344 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 20:04:13.547  INFO 43344 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:04:14.181  INFO 43344 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 20:04:14.852  INFO 43344 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:04:16.188  INFO 43344 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=023XEIT50dKnCJ1XVgV50G6wT50XEITt&grant_type=authorization_code,outputStr=null
2018-11-24 20:04:16.698  INFO 43344 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_xRZS-e3iKZPyZyS8uDau6dKV9fOKe5-qe9dwQfbFEMmiyiJ03BlTE4HnBnKcJHb6Q3s_qLaN5_xl-xKolINX5zXvr67hL-Lu31gBO6ZXNc4","expires_in":7200,"refresh_token":"16_atDnjamvr_yzPElX4D7vV57AXkYb9m8kM4f5ftTPkByYGY-1Fyx5K8Qx9_spEYW8PoyX-ZgrU7QOQOpkC4sL2t0NG51I6bMvJXsagu-Yh2E","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 20:04:16.743  INFO 43344 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:04:16.848  INFO 43344 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:04:16.848  INFO 43344 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:04:16.849  INFO 43344 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:04:18.184  INFO 43344 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:04:18.237  INFO 43344 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:04:24.950  INFO 43344 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:04:24.967 ERROR 43344 --- [http-nio-8081-exec-6] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:04:24.972 ERROR 43344 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:06:26.254  INFO 43344 --- [Thread-10] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:03:49 CST 2018]; root of context hierarchy
2018-11-24 20:06:26.256  INFO 43344 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 20:06:26.256  INFO 43344 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 20:06:26.259  INFO 43344 --- [Thread-10] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 20:06:31.541  INFO 43349 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 43349 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 20:06:31.544  INFO 43349 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 20:06:31.591  INFO 43349 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:06:31 CST 2018]; root of context hierarchy
2018-11-24 20:06:32.772  INFO 43349 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 20:06:32.780  INFO 43349 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 20:06:32.781  INFO 43349 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 20:06:32.851  INFO 43349 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 20:06:32.851  INFO 43349 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1264 ms
2018-11-24 20:06:32.976  INFO 43349 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 20:06:32.982  INFO 43349 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 20:06:32.983  INFO 43349 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 20:06:32.983  INFO 43349 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 20:06:32.984  INFO 43349 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 20:06:33.501  INFO 43349 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 20:06:34.002  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:06:31 CST 2018]; root of context hierarchy
2018-11-24 20:06:34.137  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 20:06:34.138  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 20:06:34.138  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 20:06:34.139  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 20:06:34.139  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 20:06:34.139  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 20:06:34.139  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 20:06:34.139  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 20:06:34.140  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 20:06:34.140  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 20:06:34.142  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 20:06:34.143  INFO 43349 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 20:06:34.174  INFO 43349 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 20:06:34.174  INFO 43349 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 20:06:34.358  INFO 43349 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 20:06:34.590  INFO 43349 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 20:06:34.591  INFO 43349 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 20:06:34.596  INFO 43349 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 20:06:34.649  INFO 43349 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 20:06:34.653  INFO 43349 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.385 seconds (JVM running for 4.089)
2018-11-24 20:06:41.287  INFO 43349 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 20:06:41.287  INFO 43349 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 20:06:41.301  INFO 43349 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-24 20:06:47.031  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:06:47.032  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:06:47.034  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:06:50.092  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 20:06:50.206  INFO 43349 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:06:51.991  INFO 43349 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 20:06:52.757  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:06:52.758  INFO 43349 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=0239ZSYb2NrudO0yBSZb2L7PYb29ZSY0&grant_type=authorization_code,outputStr=null
2018-11-24 20:06:53.233  INFO 43349 --- [http-nio-8081-exec-5] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_xP9FZeV7HplxK3xjOu7kq0pmSHlhp7RNUOM8Xv5lcg3_dhLIF7ffOBp0LCKyk4FO4_rIgpce53TCA0B-Y0pPT-5k4BulbovufmTMQ8fV8sQ","expires_in":7200,"refresh_token":"16_7XW3_rTkVY0iObqzbIRvoTFS5hG2siVZjcR40V2_97hqfF6tlMz9NgnZpfxyntnrxay82qsVRmua3Zyj7rQdZdiKA33wJO2EzN-NxRAtWwA","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 20:06:53.273  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:06:53.329  INFO 43349 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:06:53.330  INFO 43349 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:06:53.330  INFO 43349 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:06:53.330  INFO 43349 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:06:53.385  INFO 43349 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:06:56.101  INFO 43349 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:06:56.143 ERROR 43349 --- [http-nio-8081-exec-6] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:06:56.148 ERROR 43349 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:07:14.261  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:07:14.262  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:07:14.262  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:07:14.262  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 20:07:14.275  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:07:14.275  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 20:07:14.770  INFO 43349 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:07:14.771  INFO 43349 --- [http-nio-8081-exec-1] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=033JoeKp1RDaPp0JIyIp18ceKp1JoeKl&grant_type=authorization_code,outputStr=null
2018-11-24 20:07:15.026  INFO 43349 --- [http-nio-8081-exec-1] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_M0FKFUYFccckmMf28fRq_lfQCqYpFl9DzxJQ3pOtN7hB8-S6-PnDFmvreVTjffCuzGMZiD5D1AlVSqrVIm7b1RX_J3j5h4uiZxcVISn1wSg","expires_in":7200,"refresh_token":"16_RGPz3_Ktuz-XI2jE-buvJ71sR0mad1PFoTQLyAAM5ZSKHmRaI6ojGuv7jt7EdikATdvC11X0k45JD-WsqsSmIlNs-AfzHDs0O1IUDFtP0YM","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 20:07:15.027  INFO 43349 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:07:15.037  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:07:15.037  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:07:15.037  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:07:15.038  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:07:15.041  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:07:15.352  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:07:15.355 ERROR 43349 --- [http-nio-8081-exec-2] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:07:15.358 ERROR 43349 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:07:50.781  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:07:50.782  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:07:50.782  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:07:50.782  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:07:50.786  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:07:51.094  INFO 43349 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:07:51.097 ERROR 43349 --- [http-nio-8081-exec-5] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:07:51.099 ERROR 43349 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:08:29.424  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:08:29.425  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:08:29.425  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:08:29.425  INFO 43349 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 20:08:29.433  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:08:29.434  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 20:08:29.932  INFO 43349 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:08:29.932  INFO 43349 --- [http-nio-8081-exec-1] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=023TawRC1e4uB300rFTC1lUqRC1TawRh&grant_type=authorization_code,outputStr=null
2018-11-24 20:08:30.231  INFO 43349 --- [http-nio-8081-exec-1] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_jeSRxK1iiFNlZNUgXyBqLEEC9bkqYhEo9rvhMkXZBK5i2tmd8dhaXnXt-z525cRzUgUKY4SL0z_pWxWzXsIs2Bfbs0E-HNatbqJs_K4WGmA","expires_in":7200,"refresh_token":"16_LpauErlCKBtI6_WVvY2z6iKIo-jxYBZJ9FnZH50l_q-KmO9j8vRjpg3ZhVcermfMyJp-MymzD8qvS0AH4UT34g7Ml156qmOq-HJ2ryOpgtI","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 20:08:30.231  INFO 43349 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:08:30.248  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:08:30.248  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:08:30.249  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:08:30.249  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:08:30.253  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:08:30.528  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:08:30.531 ERROR 43349 --- [http-nio-8081-exec-2] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:08:30.532 ERROR 43349 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:10:38.656  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:10:38.657  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:10:38.657  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:10:38.657  INFO 43349 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 跳转URL=http://192.168.199.101:8081/goods/getOpenId2?redirectUrl=http://192.168.199.101:8081//goods/qrPay.html?amount=1
2018-11-24 20:10:38.668  INFO 43349 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:10:38.668  INFO 43349 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 跳转URL=http://www.xiaoshuding.com/get-weixin-code.html?appid=wx077cb62e341f8a5c&scope=snsapi_base&state=hello-world&redirect_uri=http%3A%2F%2F192.168.199.101%3A8081%2Fgoods%2FgetOpenId2%3FredirectUrl%3Dhttp%3A%2F%2F192.168.199.101%3A8081%2F%2Fgoods%2FqrPay.html%3Famount%3D1
2018-11-24 20:10:39.264  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 进入获取用户openID页面
2018-11-24 20:10:39.264  INFO 43349 --- [http-nio-8081-exec-2] org.xxpay.shop.util.vx.WxApi             : 发送HTTPS请求,requestMethod=GET,requestUrl=https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx077cb62e341f8a5c&secret=e663ea068f3e4f952f143de1432a35c2&code=033LzAXO0HQveb2GvT0P0C1zXO0LzAXV&grant_type=authorization_code,outputStr=null
2018-11-24 20:10:39.570  INFO 43349 --- [http-nio-8081-exec-2] org.xxpay.shop.util.vx.WxApi             : 响应数据,rtn={"access_token":"16_niWSLQsSlr1bUfAUalrrtYgZ0ZxDXh-loZl2EuHi39g9tAUKnyOb38wUmo4wgDZYvajXXohiMMT4NY2J7xxjWukZBL-J066xANSA4jlreds","expires_in":7200,"refresh_token":"16_RGPz3_Ktuz-XI2jE-buvJ3kT8SyZADrmZ_HuZB0qbUhNMw8zu7s9yKdBla3AUNtGRBM5Aaiu2siyHPJg9ygiU_52men8TxPDCZpZJRUz60Q","openid":"oqVwEj5r0VbE1KhosphD-zwhlhL4","scope":"snsapi_base"}
2018-11-24 20:10:39.571  INFO 43349 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 调用微信返回openId=oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:10:39.581  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-24 20:10:39.581  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (iPhone; CPU iPhone OS 11_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E216 MicroMessenger/6.7.4(0x1607042c) NetType/WIFI Language/zh_CN
2018-11-24 20:10:39.582  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】微信扫码
2018-11-24 20:10:39.582  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】openId：oqVwEj5r0VbE1KhosphD-zwhlhL4
2018-11-24 20:10:39.586  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-24 20:10:39.900  INFO 43349 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-24 20:10:39.903 ERROR 43349 --- [http-nio-8081-exec-3] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:10:39.904 ERROR 43349 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.payParams  [in template "qrPay.ftl" at line 42, column 38]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${orderMap.payParams.appId}  [in template "qrPay.ftl" at line 42, column 36]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.newDesciptionBuilder(UnexpectedTypeException.java:80) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:43) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.NonHashException.<init>(NonHashException.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Dot._eval(Dot.java:48) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Expression.eval(Expression.java:81) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:96) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:59) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-24 20:33:11.965  INFO 43349 --- [Thread-10] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:06:31 CST 2018]; root of context hierarchy
2018-11-24 20:33:11.969  INFO 43349 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 20:33:11.969  INFO 43349 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 20:33:11.972  INFO 43349 --- [Thread-10] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-24 20:35:00.229  INFO 43419 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 43419 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-24 20:35:00.231  INFO 43419 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-24 20:35:00.273  INFO 43419 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:35:00 CST 2018]; root of context hierarchy
2018-11-24 20:35:01.502  INFO 43419 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-24 20:35:01.512  INFO 43419 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-24 20:35:01.513  INFO 43419 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-24 20:35:01.577  INFO 43419 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-24 20:35:01.577  INFO 43419 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1307 ms
2018-11-24 20:35:01.696  INFO 43419 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-24 20:35:01.700  INFO 43419 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-24 20:35:01.700  INFO 43419 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-24 20:35:01.700  INFO 43419 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-24 20:35:01.700  INFO 43419 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-24 20:35:02.173  INFO 43419 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-24 20:35:02.767  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:35:00 CST 2018]; root of context hierarchy
2018-11-24 20:35:02.897  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-24 20:35:02.898  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-24 20:35:02.898  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-24 20:35:02.899  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-24 20:35:02.899  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 20:35:02.899  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-24 20:35:02.900  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 20:35:02.900  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-24 20:35:02.900  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 20:35:02.901  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-24 20:35:02.903  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-24 20:35:02.903  INFO 43419 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-24 20:35:02.932  INFO 43419 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 20:35:02.932  INFO 43419 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-24 20:35:03.091  INFO 43419 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-24 20:35:03.331  INFO 43419 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-24 20:35:03.332  INFO 43419 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-24 20:35:03.337  INFO 43419 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-24 20:35:03.392  INFO 43419 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-24 20:35:03.396  INFO 43419 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 3.41 seconds (JVM running for 4.059)
2018-11-24 20:36:57.896  INFO 43419 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-24 20:36:57.897  INFO 43419 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-24 20:36:57.913  INFO 43419 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
2018-11-24 20:36:57.934  INFO 43419 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 20:36:57.935  INFO 43419 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124203440000016, amount=1, mchId=10000001, mchOrderNo=1543062879709, subject=XXPAY支付测试, paySuccTime=1543062883884, sign=D31450CD2184A763F92B701B48B9177D, channelOrderNo=, backType=2, param1=, param2=, clientIp=211.94.116.218, currency=cny, device=WEB, channelId=WX_NATIVE, status=2}
2018-11-24 20:36:57.999  WARN 43419 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 业务订单不存在,payOrderId=P0020181124203440000016,mchOrderNo=1543062879709
2018-11-24 20:36:58.000  WARN 43419 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-24 20:36:58.003 ERROR 43419 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 20:36:58.033  INFO 43419 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 20:36:58.034  INFO 43419 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124203440000016, amount=1, mchId=10000001, mchOrderNo=1543062879709, subject=XXPAY支付测试, paySuccTime=1543062883884, sign=D31450CD2184A763F92B701B48B9177D, channelOrderNo=, backType=2, param1=, param2=, clientIp=211.94.116.218, currency=cny, device=WEB, channelId=WX_NATIVE, status=2}
2018-11-24 20:36:58.035  WARN 43419 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 业务订单不存在,payOrderId=P0020181124203440000016,mchOrderNo=1543062879709
2018-11-24 20:36:58.035  WARN 43419 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-24 20:36:58.036 ERROR 43419 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 20:36:58.045  INFO 43419 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 20:36:58.046  INFO 43419 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124203440000016, amount=1, mchId=10000001, mchOrderNo=1543062879709, subject=XXPAY支付测试, paySuccTime=1543062883884, sign=D31450CD2184A763F92B701B48B9177D, channelOrderNo=, backType=2, param1=, param2=, clientIp=211.94.116.218, currency=cny, device=WEB, channelId=WX_NATIVE, status=2}
2018-11-24 20:36:58.050  WARN 43419 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 业务订单不存在,payOrderId=P0020181124203440000016,mchOrderNo=1543062879709
2018-11-24 20:36:58.050  WARN 43419 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-24 20:36:58.050 ERROR 43419 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 20:36:58.059  INFO 43419 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 20:36:58.060  INFO 43419 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124203440000016, amount=1, mchId=10000001, mchOrderNo=1543062879709, subject=XXPAY支付测试, paySuccTime=1543062883884, sign=D31450CD2184A763F92B701B48B9177D, channelOrderNo=, backType=2, param1=, param2=, clientIp=211.94.116.218, currency=cny, device=WEB, channelId=WX_NATIVE, status=2}
2018-11-24 20:36:58.061  WARN 43419 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 业务订单不存在,payOrderId=P0020181124203440000016,mchOrderNo=1543062879709
2018-11-24 20:36:58.061  WARN 43419 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-24 20:36:58.062 ERROR 43419 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 20:36:58.074  INFO 43419 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 20:36:58.074  INFO 43419 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124203440000016, amount=1, mchId=10000001, mchOrderNo=1543062879709, subject=XXPAY支付测试, paySuccTime=1543062883884, sign=D31450CD2184A763F92B701B48B9177D, channelOrderNo=, backType=2, param1=, param2=, clientIp=211.94.116.218, currency=cny, device=WEB, channelId=WX_NATIVE, status=2}
2018-11-24 20:36:58.076  WARN 43419 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 业务订单不存在,payOrderId=P0020181124203440000016,mchOrderNo=1543062879709
2018-11-24 20:36:58.076  WARN 43419 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-24 20:36:58.076 ERROR 43419 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 20:36:58.086  INFO 43419 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-24 20:36:58.087  INFO 43419 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181124203440000016, amount=1, mchId=10000001, mchOrderNo=1543062879709, subject=XXPAY支付测试, paySuccTime=1543062883884, sign=D31450CD2184A763F92B701B48B9177D, channelOrderNo=, backType=2, param1=, param2=, clientIp=211.94.116.218, currency=cny, device=WEB, channelId=WX_NATIVE, status=2}
2018-11-24 20:36:58.088  WARN 43419 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 业务订单不存在,payOrderId=P0020181124203440000016,mchOrderNo=1543062879709
2018-11-24 20:36:58.089  WARN 43419 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-24 20:36:58.089 ERROR 43419 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-24 20:38:49.658  INFO 43419 --- [Thread-10] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5340477f: startup date [Sat Nov 24 20:35:00 CST 2018]; root of context hierarchy
2018-11-24 20:38:49.660  INFO 43419 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-24 20:38:49.660  INFO 43419 --- [Thread-10] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-24 20:38:49.663  INFO 43419 --- [Thread-10] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 22:32:43.700  INFO 894 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 894 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 22:32:43.704  INFO 894 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 22:32:43.740  INFO 894 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6f43c82: startup date [Tue Nov 27 22:32:43 CST 2018]; root of context hierarchy
2018-11-27 22:32:44.856  INFO 894 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 22:32:44.868  INFO 894 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 22:32:44.869  INFO 894 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 22:32:44.929  INFO 894 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 22:32:44.930  INFO 894 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1192 ms
2018-11-27 22:32:45.044  INFO 894 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 22:32:45.048  INFO 894 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 22:32:45.049  INFO 894 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 22:32:45.049  INFO 894 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 22:32:45.049  INFO 894 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 22:32:45.482  INFO 894 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 22:32:45.978  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6f43c82: startup date [Tue Nov 27 22:32:43 CST 2018]; root of context hierarchy
2018-11-27 22:32:46.125  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 22:32:46.126  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 22:32:46.127  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 22:32:46.127  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 22:32:46.127  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 22:32:46.128  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 22:32:46.128  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 22:32:46.128  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 22:32:46.128  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 22:32:46.128  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 22:32:46.131  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 22:32:46.131  INFO 894 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 22:32:46.164  INFO 894 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 22:32:46.164  INFO 894 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 22:32:46.337  INFO 894 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 22:32:46.580  INFO 894 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 22:32:46.582  INFO 894 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 22:32:46.588  INFO 894 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 22:32:46.637  INFO 894 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 22:32:46.641  INFO 894 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.207 seconds (JVM running for 18.744)
2018-11-27 22:35:31.541  INFO 894 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 22:35:31.542  INFO 894 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 22:35:31.557  INFO 894 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms
2018-11-27 22:36:45.681  INFO 894 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:36:45.682  INFO 894 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:36:45.684  INFO 894 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:36:45.735  INFO 894 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:36:46.327  INFO 894 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:36:46.344 ERROR 894 --- [http-nio-8081-exec-6] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 22:36:46.349 ERROR 894 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 22:37:30.407  INFO 894 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6f43c82: startup date [Tue Nov 27 22:32:43 CST 2018]; root of context hierarchy
2018-11-27 22:37:30.409  INFO 894 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-27 22:37:30.410  INFO 894 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-27 22:37:30.414  INFO 894 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 22:40:54.389  INFO 970 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 970 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 22:40:54.392  INFO 970 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 22:40:54.427  INFO 970 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5f77d0f9: startup date [Tue Nov 27 22:40:54 CST 2018]; root of context hierarchy
2018-11-27 22:40:55.427  INFO 970 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 22:40:55.436  INFO 970 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 22:40:55.436  INFO 970 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 22:40:55.498  INFO 970 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 22:40:55.499  INFO 970 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1074 ms
2018-11-27 22:40:55.613  INFO 970 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 22:40:55.617  INFO 970 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 22:40:55.618  INFO 970 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 22:40:55.618  INFO 970 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 22:40:55.618  INFO 970 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 22:40:56.034  INFO 970 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 22:40:56.531  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5f77d0f9: startup date [Tue Nov 27 22:40:54 CST 2018]; root of context hierarchy
2018-11-27 22:40:56.676  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 22:40:56.677  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 22:40:56.677  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 22:40:56.677  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 22:40:56.678  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 22:40:56.678  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 22:40:56.678  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 22:40:56.678  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 22:40:56.679  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 22:40:56.679  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 22:40:56.681  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 22:40:56.681  INFO 970 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 22:40:56.709  INFO 970 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 22:40:56.709  INFO 970 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 22:40:56.861  INFO 970 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 22:40:57.071  INFO 970 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 22:40:57.072  INFO 970 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 22:40:57.077  INFO 970 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 22:40:57.130  INFO 970 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 22:40:57.135  INFO 970 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 12.994 seconds (JVM running for 18.518)
2018-11-27 22:41:27.235  INFO 970 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 22:41:27.235  INFO 970 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 22:41:27.250  INFO 970 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms
2018-11-27 22:41:35.371  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:41:35.372  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:41:35.375  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:41:35.420  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:41:35.754  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:42:27.811  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:42:27.811  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:42:27.811  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:42:27.815  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:42:27.865  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:42:43.016  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:42:43.016  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224227000001, amount=1000, mchId=10000000, mchOrderNo=G20181127224227000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543329747858, sign=1188DADFBD4B6D5288CB621CAD900743, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:42:43.019  WARN 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224227000001
2018-11-27 22:42:43.019  WARN 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:42:43.019 ERROR 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:42:43.044  INFO 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:42:43.045  INFO 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224227000001, amount=1000, mchId=10000000, mchOrderNo=G20181127224227000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543329747858, sign=1188DADFBD4B6D5288CB621CAD900743, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:42:43.045  WARN 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224227000001
2018-11-27 22:42:43.045  WARN 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:42:43.045 ERROR 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:42:43.053  INFO 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:42:43.053  INFO 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224227000001, amount=1000, mchId=10000000, mchOrderNo=G20181127224227000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543329747858, sign=1188DADFBD4B6D5288CB621CAD900743, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:42:43.053  WARN 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224227000001
2018-11-27 22:42:43.053  WARN 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:42:43.053 ERROR 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:42:43.060  INFO 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:42:43.060  INFO 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224227000001, amount=1000, mchId=10000000, mchOrderNo=G20181127224227000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543329747858, sign=1188DADFBD4B6D5288CB621CAD900743, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:42:43.060  WARN 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224227000001
2018-11-27 22:42:43.060  WARN 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:42:43.060 ERROR 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:42:43.067  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:42:43.067  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224227000001, amount=1000, mchId=10000000, mchOrderNo=G20181127224227000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543329747858, sign=1188DADFBD4B6D5288CB621CAD900743, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:42:43.067  WARN 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224227000001
2018-11-27 22:42:43.067  WARN 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:42:43.067 ERROR 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:42:43.073  INFO 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:42:43.073  INFO 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224227000001, amount=1000, mchId=10000000, mchOrderNo=G20181127224227000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543329747858, sign=1188DADFBD4B6D5288CB621CAD900743, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:42:43.073  WARN 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224227000001
2018-11-27 22:42:43.073  WARN 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:42:43.074 ERROR 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:44:18.281  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:44:18.282  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:44:18.282  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:44:18.286  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:44:18.329  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:44:29.361  INFO 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:44:29.362  INFO 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224418000002, amount=1000, mchId=10000000, mchOrderNo=G20181127224418000002, subject=XXPAY捐助商品G_0001, paySuccTime=1543329858323, sign=FFF9698BE045E7F1DC125D1A787CA2C5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:44:29.362  WARN 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224418000002
2018-11-27 22:44:29.362  WARN 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:44:29.362 ERROR 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:44:29.368  INFO 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:44:29.369  INFO 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224418000002, amount=1000, mchId=10000000, mchOrderNo=G20181127224418000002, subject=XXPAY捐助商品G_0001, paySuccTime=1543329858323, sign=FFF9698BE045E7F1DC125D1A787CA2C5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:44:29.369  WARN 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224418000002
2018-11-27 22:44:29.369  WARN 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:44:29.369 ERROR 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:44:29.375  INFO 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:44:29.375  INFO 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224418000002, amount=1000, mchId=10000000, mchOrderNo=G20181127224418000002, subject=XXPAY捐助商品G_0001, paySuccTime=1543329858323, sign=FFF9698BE045E7F1DC125D1A787CA2C5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:44:29.375  WARN 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224418000002
2018-11-27 22:44:29.375  WARN 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:44:29.375 ERROR 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:44:29.380  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:44:29.381  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224418000002, amount=1000, mchId=10000000, mchOrderNo=G20181127224418000002, subject=XXPAY捐助商品G_0001, paySuccTime=1543329858323, sign=FFF9698BE045E7F1DC125D1A787CA2C5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:44:29.381  WARN 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224418000002
2018-11-27 22:44:29.381  WARN 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:44:29.381 ERROR 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:44:29.387  INFO 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:44:29.387  INFO 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224418000002, amount=1000, mchId=10000000, mchOrderNo=G20181127224418000002, subject=XXPAY捐助商品G_0001, paySuccTime=1543329858323, sign=FFF9698BE045E7F1DC125D1A787CA2C5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:44:29.387  WARN 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224418000002
2018-11-27 22:44:29.387  WARN 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:44:29.387 ERROR 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:44:29.393  INFO 970 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:44:29.393  INFO 970 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224418000002, amount=1000, mchId=10000000, mchOrderNo=G20181127224418000002, subject=XXPAY捐助商品G_0001, paySuccTime=1543329858323, sign=FFF9698BE045E7F1DC125D1A787CA2C5, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:44:29.393  WARN 970 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224418000002
2018-11-27 22:44:29.393  WARN 970 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:44:29.393 ERROR 970 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:47:23.270  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:47:23.270  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:47:23.270  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:47:23.274  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:47:23.320  INFO 970 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:47:47.600  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:48:00.668  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224723000003, amount=1000, mchId=10000000, mchOrderNo=G20181127224723000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330043312, sign=319833CA6FAD49A30046BD20FFC3D46E, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:48:15.573  WARN 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224723000003
2018-11-27 22:48:16.958  WARN 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:48:16.959 ERROR 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:48:18.809  INFO 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:48:18.809  INFO 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224723000003, amount=1000, mchId=10000000, mchOrderNo=G20181127224723000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330043312, sign=319833CA6FAD49A30046BD20FFC3D46E, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:48:19.953  WARN 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224723000003
2018-11-27 22:48:19.953  WARN 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:48:19.953 ERROR 970 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:48:20.610  INFO 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:48:20.611  INFO 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224723000003, amount=1000, mchId=10000000, mchOrderNo=G20181127224723000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330043312, sign=319833CA6FAD49A30046BD20FFC3D46E, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:48:21.142  WARN 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224723000003
2018-11-27 22:48:21.142  WARN 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:48:21.142 ERROR 970 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:48:21.940  INFO 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:48:21.941  INFO 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224723000003, amount=1000, mchId=10000000, mchOrderNo=G20181127224723000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330043312, sign=319833CA6FAD49A30046BD20FFC3D46E, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:48:22.561  WARN 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224723000003
2018-11-27 22:48:22.561  WARN 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:48:22.561 ERROR 970 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:48:23.039  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:48:23.039  INFO 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224723000003, amount=1000, mchId=10000000, mchOrderNo=G20181127224723000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330043312, sign=319833CA6FAD49A30046BD20FFC3D46E, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:48:23.312  WARN 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224723000003
2018-11-27 22:48:23.313  WARN 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:48:23.313 ERROR 970 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:48:23.752  INFO 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:48:23.753  INFO 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127224723000003, amount=1000, mchId=10000000, mchOrderNo=G20181127224723000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330043312, sign=319833CA6FAD49A30046BD20FFC3D46E, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:48:24.304  WARN 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127224723000003
2018-11-27 22:48:24.305  WARN 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:48:24.305 ERROR 970 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:49:31.625  INFO 970 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:49:31.625  INFO 970 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:49:31.626  INFO 970 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:49:31.630  INFO 970 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:49:31.672  INFO 970 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:51:59.536  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:51:59.536  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1000,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:51:59.536  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:51:59.541  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:51:59.581  INFO 970 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:53:29.068  INFO 970 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5f77d0f9: startup date [Tue Nov 27 22:40:54 CST 2018]; root of context hierarchy
2018-11-27 22:53:29.070  INFO 970 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-27 22:53:29.070  INFO 970 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-27 22:53:29.074  INFO 970 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 22:53:54.332  INFO 1083 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1083 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 22:53:54.335  INFO 1083 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 22:53:54.370  INFO 1083 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 27 22:53:54 CST 2018]; root of context hierarchy
2018-11-27 22:53:55.414  INFO 1083 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 22:53:55.424  INFO 1083 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 22:53:55.425  INFO 1083 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 22:53:55.501  INFO 1083 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 22:53:55.502  INFO 1083 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1134 ms
2018-11-27 22:53:55.617  INFO 1083 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 22:53:55.622  INFO 1083 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 22:53:55.623  INFO 1083 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 22:53:55.623  INFO 1083 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 22:53:55.623  INFO 1083 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 22:53:56.050  INFO 1083 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 22:53:56.572  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 27 22:53:54 CST 2018]; root of context hierarchy
2018-11-27 22:53:56.711  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 22:53:56.712  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 22:53:56.712  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 22:53:56.712  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 22:53:56.713  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 22:53:56.713  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 22:53:56.713  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 22:53:56.713  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 22:53:56.714  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 22:53:56.714  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 22:53:56.716  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 22:53:56.716  INFO 1083 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 22:53:56.748  INFO 1083 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 22:53:56.749  INFO 1083 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 22:53:56.928  INFO 1083 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 22:53:57.141  INFO 1083 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 22:53:57.142  INFO 1083 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 22:53:57.147  INFO 1083 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 22:53:57.204  INFO 1083 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 22:53:57.208  INFO 1083 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.139 seconds (JVM running for 18.715)
2018-11-27 22:54:05.167  INFO 1083 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 22:54:05.167  INFO 1083 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 22:54:05.181  INFO 1083 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-27 22:54:11.843  INFO 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:54:11.844  INFO 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:54:11.847  INFO 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:54:11.891  INFO 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:54:12.024  INFO 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:57:07.860  INFO 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:57:07.861  INFO 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:57:07.861  INFO 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:57:07.865  INFO 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:57:07.907  INFO 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:57:20.715  INFO 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:20.715  INFO 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225159000005, amount=1000, mchId=10000000, mchOrderNo=G20181127225159000005, subject=XXPAY捐助商品G_0001, paySuccTime=1543330319575, sign=9DC859F8EBC2734D211E0F52B9DFD043, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.506  WARN 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225159000005
2018-11-27 22:57:23.506  WARN 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.506 ERROR 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.515  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.516  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225707000007, amount=1, mchId=10000000, mchOrderNo=G20181127225707000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543330627901, sign=1AEAB5CF0360891CA45BE88268C62902, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.516  WARN 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225707000007
2018-11-27 22:57:23.516  WARN 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.516 ERROR 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.525  INFO 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.525  INFO 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225159000005, amount=1000, mchId=10000000, mchOrderNo=G20181127225159000005, subject=XXPAY捐助商品G_0001, paySuccTime=1543330319575, sign=9DC859F8EBC2734D211E0F52B9DFD043, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.525  WARN 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225159000005
2018-11-27 22:57:23.525  WARN 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.525 ERROR 1083 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.530  INFO 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.530  INFO 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225707000007, amount=1, mchId=10000000, mchOrderNo=G20181127225707000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543330627901, sign=1AEAB5CF0360891CA45BE88268C62902, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.530  WARN 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225707000007
2018-11-27 22:57:23.530  WARN 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.530 ERROR 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.536  INFO 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.537  INFO 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225159000005, amount=1000, mchId=10000000, mchOrderNo=G20181127225159000005, subject=XXPAY捐助商品G_0001, paySuccTime=1543330319575, sign=9DC859F8EBC2734D211E0F52B9DFD043, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.537  WARN 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225159000005
2018-11-27 22:57:23.537  WARN 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.537 ERROR 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.543  INFO 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.543  INFO 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225707000007, amount=1, mchId=10000000, mchOrderNo=G20181127225707000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543330627901, sign=1AEAB5CF0360891CA45BE88268C62902, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.543  WARN 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225707000007
2018-11-27 22:57:23.543  WARN 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.543 ERROR 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.549  INFO 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.549  INFO 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225159000005, amount=1000, mchId=10000000, mchOrderNo=G20181127225159000005, subject=XXPAY捐助商品G_0001, paySuccTime=1543330319575, sign=9DC859F8EBC2734D211E0F52B9DFD043, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.549  WARN 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225159000005
2018-11-27 22:57:23.549  WARN 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.549 ERROR 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.555  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.556  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225707000007, amount=1, mchId=10000000, mchOrderNo=G20181127225707000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543330627901, sign=1AEAB5CF0360891CA45BE88268C62902, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.556  WARN 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225707000007
2018-11-27 22:57:23.556  WARN 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.556 ERROR 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.561  INFO 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.561  INFO 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225159000005, amount=1000, mchId=10000000, mchOrderNo=G20181127225159000005, subject=XXPAY捐助商品G_0001, paySuccTime=1543330319575, sign=9DC859F8EBC2734D211E0F52B9DFD043, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.561  WARN 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225159000005
2018-11-27 22:57:23.561  WARN 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.561 ERROR 1083 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.566  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.566  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225707000007, amount=1, mchId=10000000, mchOrderNo=G20181127225707000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543330627901, sign=1AEAB5CF0360891CA45BE88268C62902, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.566  WARN 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225707000007
2018-11-27 22:57:23.566  WARN 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.566 ERROR 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.573  INFO 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.573  INFO 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225159000005, amount=1000, mchId=10000000, mchOrderNo=G20181127225159000005, subject=XXPAY捐助商品G_0001, paySuccTime=1543330319575, sign=9DC859F8EBC2734D211E0F52B9DFD043, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.573  WARN 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225159000005
2018-11-27 22:57:23.573  WARN 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.573 ERROR 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:57:23.578  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:57:23.578  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225707000007, amount=1, mchId=10000000, mchOrderNo=G20181127225707000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543330627901, sign=1AEAB5CF0360891CA45BE88268C62902, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:57:23.578  WARN 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225707000007
2018-11-27 22:57:23.578  WARN 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:57:23.578 ERROR 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:58:33.163  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:58:33.164  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:58:33.164  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:58:33.168  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:58:33.209  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:58:51.177  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 22:58:51.177  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 22:58:51.177  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 22:58:51.181  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 22:58:51.222  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 22:59:21.932  INFO 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:59:21.932  INFO 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330731214, sign=94F169F554AF23EB005DCD12E4AC0D98, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:59:21.932  WARN 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 22:59:21.932  WARN 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:59:21.932 ERROR 1083 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:59:21.984  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:59:21.984  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330760877, sign=971E1F899A8BF550286D6A4F6DC37C56, channelOrderNo=2018112722001442150500692142, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:59:21.984  WARN 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 22:59:21.984  WARN 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:59:21.984 ERROR 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 22:59:30.988  INFO 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 22:59:30.989  INFO 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330731214, sign=94F169F554AF23EB005DCD12E4AC0D98, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 22:59:30.989  WARN 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 22:59:30.989  WARN 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 22:59:30.989 ERROR 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:03:06.671  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:03:06.671  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:03:06.671  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:03:06.675  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:03:06.683  INFO 1083 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:03:06.692 ERROR 1083 --- [http-nio-8081-exec-10] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:03:06.696 ERROR 1083 --- [http-nio-8081-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:03:34.926  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:03:34.927  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:03:34.927  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:03:34.931  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:03:34.938  INFO 1083 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:03:34.940 ERROR 1083 --- [http-nio-8081-exec-2] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:03:34.942 ERROR 1083 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:03:47.326  INFO 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:03:47.327  INFO 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330760877, sign=971E1F899A8BF550286D6A4F6DC37C56, channelOrderNo=2018112722001442150500692142, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:03:47.327  WARN 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 23:03:47.327  WARN 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:03:47.327 ERROR 1083 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:03:47.335  INFO 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:03:47.335  INFO 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330731214, sign=94F169F554AF23EB005DCD12E4AC0D98, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:03:47.335  WARN 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 23:03:47.335  WARN 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:03:47.335 ERROR 1083 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:03:47.341  INFO 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:03:47.342  INFO 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330760877, sign=971E1F899A8BF550286D6A4F6DC37C56, channelOrderNo=2018112722001442150500692142, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:03:47.342  WARN 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 23:03:47.342  WARN 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:03:47.342 ERROR 1083 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:03:47.348  INFO 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:03:47.348  INFO 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330731214, sign=94F169F554AF23EB005DCD12E4AC0D98, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:03:47.348  WARN 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 23:03:47.348  WARN 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:03:47.348 ERROR 1083 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:03:47.355  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:03:47.356  INFO 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127225851000009, amount=1, mchId=10000000, mchOrderNo=G20181127225851000003, subject=XXPAY捐助商品G_0001, paySuccTime=1543330760877, sign=971E1F899A8BF550286D6A4F6DC37C56, channelOrderNo=2018112722001442150500692142, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:03:47.356  WARN 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127225851000009
2018-11-27 23:03:47.356  WARN 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:03:47.356 ERROR 1083 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:03:47.446  INFO 1083 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 27 22:53:54 CST 2018]; root of context hierarchy
2018-11-27 23:03:47.447  INFO 1083 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-27 23:03:47.448  INFO 1083 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-27 23:03:47.452  INFO 1083 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 23:06:48.304  INFO 1206 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1206 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 23:06:48.308  INFO 1206 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 23:06:48.343  INFO 1206 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2205a05d: startup date [Tue Nov 27 23:06:48 CST 2018]; root of context hierarchy
2018-11-27 23:06:49.330  INFO 1206 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 23:06:49.339  INFO 1206 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 23:06:49.340  INFO 1206 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 23:06:49.403  INFO 1206 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 23:06:49.403  INFO 1206 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1063 ms
2018-11-27 23:06:49.516  INFO 1206 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 23:06:49.520  INFO 1206 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 23:06:49.520  INFO 1206 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 23:06:49.521  INFO 1206 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 23:06:49.521  INFO 1206 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 23:06:49.932  INFO 1206 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 23:06:50.436  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2205a05d: startup date [Tue Nov 27 23:06:48 CST 2018]; root of context hierarchy
2018-11-27 23:06:50.571  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 23:06:50.572  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 23:06:50.573  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 23:06:50.573  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 23:06:50.573  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:06:50.573  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:06:50.574  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:06:50.574  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:06:50.574  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:06:50.575  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:06:50.577  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 23:06:50.578  INFO 1206 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 23:06:50.609  INFO 1206 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:06:50.609  INFO 1206 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:06:50.796  INFO 1206 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 23:06:51.020  INFO 1206 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 23:06:51.021  INFO 1206 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 23:06:51.026  INFO 1206 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 23:06:51.079  INFO 1206 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 23:06:51.084  INFO 1206 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.011 seconds (JVM running for 18.57)
2018-11-27 23:07:26.095  INFO 1206 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 23:07:26.096  INFO 1206 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 23:07:26.110  INFO 1206 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
2018-11-27 23:07:42.235  INFO 1206 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:07:42.236  INFO 1206 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:07:42.239  INFO 1206 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:07:42.286  INFO 1206 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:07:42.903  INFO 1206 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:08:18.643  INFO 1206 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:08:18.643  INFO 1206 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331262707, sign=055EB88E36E337CB7B1DC0068EA407BE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:08:18.647  WARN 1206 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:08:18.647  WARN 1206 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:08:18.647 ERROR 1206 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:08:18.658  INFO 1206 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:08:18.658  INFO 1206 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331262707, sign=055EB88E36E337CB7B1DC0068EA407BE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:08:18.659  WARN 1206 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:08:18.659  WARN 1206 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:08:18.659 ERROR 1206 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:08:18.667  INFO 1206 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:08:18.667  INFO 1206 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331262707, sign=055EB88E36E337CB7B1DC0068EA407BE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:08:18.667  WARN 1206 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:08:18.667  WARN 1206 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:08:18.667 ERROR 1206 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:08:18.674  INFO 1206 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:08:18.674  INFO 1206 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331262707, sign=055EB88E36E337CB7B1DC0068EA407BE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:08:18.674  WARN 1206 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:08:18.674  WARN 1206 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:08:18.674 ERROR 1206 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:08:18.682  INFO 1206 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:08:18.682  INFO 1206 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331262707, sign=055EB88E36E337CB7B1DC0068EA407BE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:08:18.682  WARN 1206 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:08:18.682  WARN 1206 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:08:18.682 ERROR 1206 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:08:18.688  INFO 1206 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:08:18.688  INFO 1206 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331262707, sign=055EB88E36E337CB7B1DC0068EA407BE, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:08:18.688  WARN 1206 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:08:18.688  WARN 1206 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:08:18.688 ERROR 1206 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:09:05.947  INFO 1206 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2205a05d: startup date [Tue Nov 27 23:06:48 CST 2018]; root of context hierarchy
2018-11-27 23:09:05.949  INFO 1206 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-27 23:09:05.950  INFO 1206 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-27 23:09:05.954  INFO 1206 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 23:10:02.567  INFO 1233 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1233 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 23:10:02.570  INFO 1233 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 23:10:02.603  INFO 1233 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:10:02 CST 2018]; root of context hierarchy
2018-11-27 23:10:03.617  INFO 1233 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 23:10:03.626  INFO 1233 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 23:10:03.626  INFO 1233 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 23:10:03.687  INFO 1233 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 23:10:03.688  INFO 1233 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1088 ms
2018-11-27 23:10:03.796  INFO 1233 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 23:10:03.800  INFO 1233 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 23:10:03.800  INFO 1233 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 23:10:03.800  INFO 1233 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 23:10:03.800  INFO 1233 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 23:10:04.215  INFO 1233 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 23:10:04.719  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:10:02 CST 2018]; root of context hierarchy
2018-11-27 23:10:04.870  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 23:10:04.871  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 23:10:04.871  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 23:10:04.871  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 23:10:04.871  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:10:04.872  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:10:04.872  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:10:04.872  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:10:04.872  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:10:04.873  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:10:04.875  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 23:10:04.875  INFO 1233 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 23:10:04.906  INFO 1233 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:10:04.906  INFO 1233 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:10:05.078  INFO 1233 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 23:10:05.303  INFO 1233 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 23:10:05.304  INFO 1233 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 23:10:05.309  INFO 1233 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 23:10:05.361  INFO 1233 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 23:10:05.366  INFO 1233 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.04 seconds (JVM running for 18.596)
2018-11-27 23:11:19.119  INFO 1233 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 23:11:19.120  INFO 1233 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 23:11:19.140  INFO 1233 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 19 ms
2018-11-27 23:11:31.698  INFO 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:11:31.700  INFO 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:11:31.709  WARN 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:11:31.709  WARN 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:11:31.709 ERROR 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:11:33.903  INFO 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:11:33.904  INFO 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:11:33.904  WARN 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:11:33.904  WARN 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:11:33.904 ERROR 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:11:36.971  INFO 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:11:36.972  INFO 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:11:36.972  WARN 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:11:36.973  WARN 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:11:36.973 ERROR 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:11:47.165  INFO 1233 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:11:47.166  INFO 1233 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:11:47.166  WARN 1233 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:11:47.166  WARN 1233 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:11:47.166 ERROR 1233 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:11:51.769  INFO 1233 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:11:51.770  INFO 1233 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:11:51.770  WARN 1233 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:11:51.770  WARN 1233 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:11:51.770 ERROR 1233 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:06.582  INFO 1233 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:12:06.582  INFO 1233 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:12:06.582  WARN 1233 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:12:06.582  WARN 1233 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:12:06.582 ERROR 1233 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:06.589  INFO 1233 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:12:06.589  INFO 1233 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:12:06.590  WARN 1233 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:12:06.590  WARN 1233 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:12:06.590 ERROR 1233 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:06.595  INFO 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:12:06.596  INFO 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:12:06.596  WARN 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:12:06.596  WARN 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:12:06.596 ERROR 1233 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:06.601  INFO 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:12:06.602  INFO 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:12:06.602  WARN 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:12:06.602  WARN 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:12:06.602 ERROR 1233 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:06.608  INFO 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:12:06.608  INFO 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:12:06.608  WARN 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:12:06.608  WARN 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:12:06.608 ERROR 1233 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:06.614  INFO 1233 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:12:06.614  INFO 1233 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:12:06.614  WARN 1233 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:12:06.614  WARN 1233 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:12:06.614 ERROR 1233 --- [http-nio-8081-exec-6] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:06.619  INFO 1233 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:12:06.620  INFO 1233 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127230742000000, amount=1, mchId=10000000, mchOrderNo=G20181127230742000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543331298619, sign=8BA94EC072722FE203087B6BC7828221, channelOrderNo=2018112722001442150500692145, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:12:06.620  WARN 1233 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127230742000000
2018-11-27 23:12:06.620  WARN 1233 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:12:06.620 ERROR 1233 --- [http-nio-8081-exec-7] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:12:35.346  INFO 1233 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:10:02 CST 2018]; root of context hierarchy
2018-11-27 23:12:35.347  INFO 1233 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-27 23:12:35.348  INFO 1233 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-27 23:12:35.353  INFO 1233 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 23:13:15.438  INFO 1265 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1265 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 23:13:15.442  INFO 1265 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 23:13:15.478  INFO 1265 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:13:15 CST 2018]; root of context hierarchy
2018-11-27 23:13:16.517  INFO 1265 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 23:13:16.527  INFO 1265 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 23:13:16.528  INFO 1265 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 23:13:16.597  INFO 1265 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 23:13:16.598  INFO 1265 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1123 ms
2018-11-27 23:13:16.720  INFO 1265 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 23:13:16.725  INFO 1265 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 23:13:16.725  INFO 1265 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 23:13:16.726  INFO 1265 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 23:13:16.726  INFO 1265 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 23:13:17.133  INFO 1265 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 23:13:17.697  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:13:15 CST 2018]; root of context hierarchy
2018-11-27 23:13:17.850  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 23:13:17.851  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 23:13:17.851  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 23:13:17.851  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 23:13:17.851  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:13:17.852  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:13:17.852  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:13:17.852  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:13:17.852  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:13:17.852  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:13:17.854  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 23:13:17.855  INFO 1265 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 23:13:17.886  INFO 1265 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:13:17.886  INFO 1265 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:13:18.050  INFO 1265 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 23:13:18.246  INFO 1265 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 23:13:18.247  INFO 1265 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 23:13:18.252  INFO 1265 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 23:13:18.303  INFO 1265 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 23:13:18.307  INFO 1265 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.146 seconds (JVM running for 18.71)
2018-11-27 23:15:05.170  INFO 1265 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 23:15:05.170  INFO 1265 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 23:15:05.184  INFO 1265 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 13 ms
2018-11-27 23:15:09.187  INFO 1265 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:15:09.188  INFO 1265 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:15:09.190  INFO 1265 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:15:09.243  INFO 1265 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:15:09.510  INFO 1265 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:15:09.526 ERROR 1265 --- [http-nio-8081-exec-4] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:15:09.530 ERROR 1265 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:16:03.576  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:16:03.577  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:16:03.577  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:16:03.580  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:16:03.589  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:16:03.592 ERROR 1265 --- [http-nio-8081-exec-9] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:16:03.594 ERROR 1265 --- [http-nio-8081-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:16:15.946  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:16:15.946  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:16:15.946  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:16:15.950  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:16:31.029  INFO 1265 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:16:31.029  INFO 1265 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:16:31.029  INFO 1265 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:16:31.033  INFO 1265 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:16:40.264  INFO 1265 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:16:40.266  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:16:40.267 ERROR 1265 --- [http-nio-8081-exec-2] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:16:40.267 ERROR 1265 --- [http-nio-8081-exec-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:16:40.271 ERROR 1265 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:16:40.271 ERROR 1265 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:18:27.734  INFO 1265 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:18:27.734  INFO 1265 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:18:27.734  INFO 1265 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:18:27.740  INFO 1265 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:18:27.747  INFO 1265 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:18:27.750 ERROR 1265 --- [http-nio-8081-exec-5] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) [freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) [freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:18:27.752 ERROR 1265 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----] with root cause

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> orderMap.resCode  [in template "qrPay.ftl" at line 20, column 7]

----
Tip: It's the step after the last dot that caused this error, not those before it.
----
Tip: If the failing expression is known to be legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: #if (orderMap.resCode == "SUCCESS")  [in template "qrPay.ftl" at line 20, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:196) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.EvalUtil.compare(EvalUtil.java:113) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ComparisonExpression.evalToBoolean(ComparisonExpression.java:62) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.ParentheticalExpression.evalToBoolean(ParentheticalExpression.java:35) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.IfBlock.accept(IfBlock.java:49) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:326) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.visit(Environment.java:332) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.core.Environment.process(Environment.java:305) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at freemarker.template.Template.process(Template.java:378) ~[freemarker-2.3.26-incubating.jar:2.3.26]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:367) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:284) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:234) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:167) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:19:20.813  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:19:20.813  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:19:20.813  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:19:20.818  INFO 1265 --- [http-nio-8081-exec-9] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:19:20.820 ERROR 1265 --- [http-nio-8081-exec-9] org.xxpay.common.util.HttpClient         : 

java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175) ~[na:1.8.0_151]
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463) ~[na:1.8.0_151]
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558) ~[na:1.8.0_151]
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242) ~[na:1.8.0_151]
	at sun.net.www.http.HttpClient.New(HttpClient.java:339) ~[na:1.8.0_151]
	at sun.net.www.http.HttpClient.New(HttpClient.java:357) ~[na:1.8.0_151]
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220) ~[na:1.8.0_151]
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156) ~[na:1.8.0_151]
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050) ~[na:1.8.0_151]
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984) ~[na:1.8.0_151]
	at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1334) ~[na:1.8.0_151]
	at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1309) ~[na:1.8.0_151]
	at org.xxpay.common.util.HttpClient.doPost(HttpClient.java:471) [classes/:na]
	at org.xxpay.common.util.HttpClient.httpPostMethod(HttpClient.java:350) [classes/:na]
	at org.xxpay.common.util.HttpClient.callHttp(HttpClient.java:278) [classes/:na]
	at org.xxpay.common.util.HttpClient.call(HttpClient.java:221) [classes/:na]
	at org.xxpay.common.util.HttpClient.callHttpPost(HttpClient.java:527) [classes/:na]
	at org.xxpay.common.util.HttpClient.callHttpPost(HttpClient.java:522) [classes/:na]
	at org.xxpay.common.util.HttpClient.callHttpPost(HttpClient.java:518) [classes/:na]
	at org.xxpay.common.util.XXPayUtil.call4Post(XXPayUtil.java:119) [classes/:na]
	at org.xxpay.shop.controller.GoodsOrderController.createPayOrder(GoodsOrderController.java:167) [classes/:na]
	at org.xxpay.shop.controller.GoodsOrderController.qrPay(GoodsOrderController.java:230) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:19:20.827 ERROR 1265 --- [http-nio-8081-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at org.xxpay.shop.controller.GoodsOrderController.createPayOrder(GoodsOrderController.java:170) ~[classes/:na]
	at org.xxpay.shop.controller.GoodsOrderController.qrPay(GoodsOrderController.java:230) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:19:26.682  INFO 1265 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:19:26.683  INFO 1265 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:19:26.683  INFO 1265 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:19:26.687  INFO 1265 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:19:27.418  INFO 1265 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:19:53.011  INFO 1265 --- [http-nio-8081-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:472) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:683) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-11-27 23:20:37.544  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:20:37.544  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:20:37.544  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:20:37.549  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:20:37.598  INFO 1265 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:21:39.745  INFO 1265 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:13:15 CST 2018]; root of context hierarchy
2018-11-27 23:21:39.747  INFO 1265 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-27 23:21:39.747  INFO 1265 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-27 23:21:39.752  INFO 1265 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 23:24:52.190  INFO 1381 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1381 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 23:24:52.194  INFO 1381 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 23:24:52.232  INFO 1381 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 27 23:24:52 CST 2018]; root of context hierarchy
2018-11-27 23:24:53.253  INFO 1381 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 23:24:53.261  INFO 1381 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 23:24:53.262  INFO 1381 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 23:24:53.320  INFO 1381 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 23:24:53.321  INFO 1381 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1092 ms
2018-11-27 23:24:53.428  INFO 1381 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 23:24:53.432  INFO 1381 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 23:24:53.432  INFO 1381 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 23:24:53.432  INFO 1381 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 23:24:53.432  INFO 1381 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 23:24:53.846  INFO 1381 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 23:24:54.304  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 27 23:24:52 CST 2018]; root of context hierarchy
2018-11-27 23:24:54.437  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 23:24:54.438  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:24:54.438  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 23:24:54.439  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 23:24:54.439  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 23:24:54.439  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:24:54.440  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:24:54.440  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:24:54.440  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:24:54.440  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:24:54.442  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 23:24:54.443  INFO 1381 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 23:24:54.471  INFO 1381 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:24:54.471  INFO 1381 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:24:54.638  INFO 1381 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 23:24:54.833  INFO 1381 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 23:24:54.834  INFO 1381 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 23:24:54.839  INFO 1381 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 23:24:54.893  INFO 1381 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 23:24:54.897  INFO 1381 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 12.958 seconds (JVM running for 18.473)
2018-11-27 23:25:09.083  INFO 1381 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 23:25:09.083  INFO 1381 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 23:25:09.096  INFO 1381 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 13 ms
2018-11-27 23:25:15.208  INFO 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:25:15.210  INFO 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:25:15.212  INFO 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:25:15.259  INFO 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:25:16.095  INFO 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:25:55.858  INFO 1381 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : ====== 开始接收二维码扫码支付请求 ======
2018-11-27 23:25:55.858  INFO 1381 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】接收参数:goodsId=G_0001,amount=1,ua=Mozilla/5.0 (Linux; U; Android 5.1; zh-CN; CUN-TL00 Build/HUAWEICUN-TL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.6.4.950 UWS/2.11.0.43 Mobile Safari/537.36 UCBS/2.11.0.43_180116184911 NebulaSDK/1.8.100112 Nebula AlipayDefined(nt:WIFI,ws:360|0|2.0) AliApp(AP/10.1.15.0122) AlipayClient/10.1.15.0122 Language/zh-Hans useStatusBar/true
2018-11-27 23:25:55.858  INFO 1381 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 【二维码扫码支付】支付宝扫码下单
2018-11-27 23:25:55.862  INFO 1381 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 插入商品订单,返回:1
2018-11-27 23:25:55.917  INFO 1381 --- [http-nio-8081-exec-8] o.x.s.controller.GoodsOrderController    : 修改商品订单,返回:1
2018-11-27 23:26:16.700  INFO 1381 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:26:16.700  INFO 1381 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127232555000001, amount=1, mchId=10000000, mchOrderNo=G20181127232555000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543332355909, sign=50A2F1145F61F4D46A305BCFC0AD4F1C, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:26:19.194  WARN 1381 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127232555000001
2018-11-27 23:26:19.194  WARN 1381 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:26:19.194 ERROR 1381 --- [http-nio-8081-exec-10] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:26:19.214  INFO 1381 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:26:19.214  INFO 1381 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127232555000001, amount=1, mchId=10000000, mchOrderNo=G20181127232555000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543332355909, sign=50A2F1145F61F4D46A305BCFC0AD4F1C, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:26:19.214  WARN 1381 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127232555000001
2018-11-27 23:26:19.214  WARN 1381 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:26:19.214 ERROR 1381 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:26:19.220  INFO 1381 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:26:19.220  INFO 1381 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127232555000001, amount=1, mchId=10000000, mchOrderNo=G20181127232555000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543332355909, sign=50A2F1145F61F4D46A305BCFC0AD4F1C, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:26:19.220  WARN 1381 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127232555000001
2018-11-27 23:26:19.220  WARN 1381 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:26:19.221 ERROR 1381 --- [http-nio-8081-exec-2] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:26:19.226  INFO 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:26:19.226  INFO 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127232555000001, amount=1, mchId=10000000, mchOrderNo=G20181127232555000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543332355909, sign=50A2F1145F61F4D46A305BCFC0AD4F1C, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:26:19.226  WARN 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127232555000001
2018-11-27 23:26:19.226  WARN 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:26:19.227 ERROR 1381 --- [http-nio-8081-exec-3] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:26:19.232  INFO 1381 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:26:19.233  INFO 1381 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127232555000001, amount=1, mchId=10000000, mchOrderNo=G20181127232555000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543332355909, sign=50A2F1145F61F4D46A305BCFC0AD4F1C, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:26:19.233  WARN 1381 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127232555000001
2018-11-27 23:26:19.233  WARN 1381 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:26:19.233 ERROR 1381 --- [http-nio-8081-exec-4] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:26:19.238  INFO 1381 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:26:19.239  INFO 1381 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127232555000001, amount=1, mchId=10000000, mchOrderNo=G20181127232555000001, subject=XXPAY捐助商品G_0001, paySuccTime=1543332355909, sign=50A2F1145F61F4D46A305BCFC0AD4F1C, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:26:19.239  WARN 1381 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify params sign failed. payOrderId=P0020181127232555000001
2018-11-27 23:26:19.239  WARN 1381 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : verify request param failed.
2018-11-27 23:26:19.239 ERROR 1381 --- [http-nio-8081-exec-5] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:27:27.639  INFO 1381 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@295cf707: startup date [Tue Nov 27 23:24:52 CST 2018]; root of context hierarchy
2018-11-27 23:27:27.641  INFO 1381 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-27 23:27:27.641  INFO 1381 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-27 23:27:27.647  INFO 1381 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-11-27 23:28:28.840  INFO 1420 --- [main] org.xxpay.shop.XxPayShopApplication      : Starting XxPayShopApplication on xuliangdeMacBook-Pro.local with PID 1420 (/Users/xuliang/Documents/xxpay4j/xxpay-master/xxpay-shop/target/classes started by xuliang in /Users/xuliang/Documents/xxpay4j/xxpay-master)
2018-11-27 23:28:28.844  INFO 1420 --- [main] org.xxpay.shop.XxPayShopApplication      : No active profile set, falling back to default profiles: default
2018-11-27 23:28:28.879  INFO 1420 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:28:28 CST 2018]; root of context hierarchy
2018-11-27 23:28:29.916  INFO 1420 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2018-11-27 23:28:29.925  INFO 1420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-11-27 23:28:29.926  INFO 1420 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2018-11-27 23:28:29.985  INFO 1420 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-11-27 23:28:29.986  INFO 1420 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1110 ms
2018-11-27 23:28:30.092  INFO 1420 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-11-27 23:28:30.096  INFO 1420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-11-27 23:28:30.097  INFO 1420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-11-27 23:28:30.097  INFO 1420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-11-27 23:28:30.097  INFO 1420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-11-27 23:28:30.487  INFO 1420 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-11-27 23:28:31.001  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:28:28 CST 2018]; root of context hierarchy
2018-11-27 23:28:31.145  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAliPay(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:28:31.146  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/qrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.qrPay(org.springframework.ui.ModelMap,javax.servlet.http.HttpServletRequest,java.lang.Long)
2018-11-27 23:28:31.147  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/pay/{goodsOrderId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.pay(java.lang.String)
2018-11-27 23:28:31.147  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/buy/{goodsId}],methods=[GET]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.buy(java.lang.String)
2018-11-27 23:28:31.147  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/openQrPay.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.openQrPay(org.springframework.ui.ModelMap)
2018-11-27 23:28:31.147  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:28:31.147  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/getOpenId2]}" onto public void org.xxpay.shop.controller.GoodsOrderController.getOpenId2(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2018-11-27 23:28:31.148  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/payNotify]}" onto public void org.xxpay.shop.controller.GoodsOrderController.payNotify(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:28:31.148  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/notify_test]}" onto public void org.xxpay.shop.controller.GoodsOrderController.notifyTest(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-11-27 23:28:31.148  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goods/toAliPaytrans.html]}" onto public java.lang.String org.xxpay.shop.controller.GoodsOrderController.toAlipayTrans(javax.servlet.http.HttpServletRequest,java.lang.Long,java.lang.String)
2018-11-27 23:28:31.150  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-11-27 23:28:31.151  INFO 1420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-11-27 23:28:31.181  INFO 1420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:28:31.181  INFO 1420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-11-27 23:28:31.347  INFO 1420 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2018-11-27 23:28:31.570  INFO 1420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-11-27 23:28:31.571  INFO 1420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-11-27 23:28:31.577  INFO 1420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2018-11-27 23:28:31.629  INFO 1420 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2018-11-27 23:28:31.633  INFO 1420 --- [main] org.xxpay.shop.XxPayShopApplication      : Started XxPayShopApplication in 13.06 seconds (JVM running for 18.612)
2018-11-27 23:29:12.652  INFO 1420 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-11-27 23:29:12.652  INFO 1420 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-11-27 23:29:12.665  INFO 1420 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 13 ms
2018-11-27 23:29:12.685  INFO 1420 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 开始处理支付中心通知 ======
2018-11-27 23:29:12.686  INFO 1420 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 支付中心通知请求参数,paramMap={payOrderId=P0020181127232515000000, amount=1, mchId=10000000, mchOrderNo=G20181127232515000000, subject=XXPAY捐助商品G_0001, paySuccTime=1543332315921, sign=71D51D5E471D1CC341A978AF2943C962, channelOrderNo=, backType=2, param1=, param2=, clientIp=114.112.124.236, currency=cny, device=WEB, channelId=ALIPAY_WAP, status=2}
2018-11-27 23:29:12.779  INFO 1420 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : 响应支付中心通知结果:success,payOrderId=P0020181127232515000000,mchOrderNo=G20181127232515000000
2018-11-27 23:29:12.781 ERROR 1420 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : response xxpay complete.
2018-11-27 23:29:12.781  INFO 1420 --- [http-nio-8081-exec-1] o.x.s.controller.GoodsOrderController    : ====== 支付中心通知处理完成 ======
2018-11-28 01:08:49.519  INFO 1420 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2e32ccc5: startup date [Tue Nov 27 23:28:28 CST 2018]; root of context hierarchy
2018-11-28 01:08:49.521  INFO 1420 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-11-28 01:08:49.522  INFO 1420 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-11-28 01:08:49.527  INFO 1420 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
